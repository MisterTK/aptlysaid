[
  {
    "section": "=== TABLE: auth.audit_log_entries ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "auth",
      "name": "audit_log_entries",
      "type": "BASE TABLE",
      "comment": "Auth: Audit trail for user actions.",
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: auth.flow_state ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "auth",
      "name": "flow_state",
      "type": "BASE TABLE",
      "comment": "stores metadata for pkce logins",
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: auth.identities ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "auth",
      "name": "identities",
      "type": "BASE TABLE",
      "comment": "Auth: Stores identities associated to a user.",
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: auth.instances ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "auth",
      "name": "instances",
      "type": "BASE TABLE",
      "comment": "Auth: Manages users across multiple sites.",
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: auth.mfa_amr_claims ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "auth",
      "name": "mfa_amr_claims",
      "type": "BASE TABLE",
      "comment": "auth: stores authenticator method reference claims for multi factor authentication",
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: auth.mfa_challenges ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "auth",
      "name": "mfa_challenges",
      "type": "BASE TABLE",
      "comment": "auth: stores metadata about challenge requests made",
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: auth.mfa_factors ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "auth",
      "name": "mfa_factors",
      "type": "BASE TABLE",
      "comment": "auth: stores metadata about factors",
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: auth.oauth_clients ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "auth",
      "name": "oauth_clients",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: auth.one_time_tokens ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "auth",
      "name": "one_time_tokens",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: auth.refresh_tokens ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "auth",
      "name": "refresh_tokens",
      "type": "BASE TABLE",
      "comment": "Auth: Store of tokens used to refresh JWT tokens once they expire.",
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: auth.saml_providers ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "auth",
      "name": "saml_providers",
      "type": "BASE TABLE",
      "comment": "Auth: Manages SAML Identity Provider connections.",
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: auth.saml_relay_states ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "auth",
      "name": "saml_relay_states",
      "type": "BASE TABLE",
      "comment": "Auth: Contains SAML Relay State information for each Service Provider initiated login.",
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: auth.schema_migrations ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "auth",
      "name": "schema_migrations",
      "type": "BASE TABLE",
      "comment": "Auth: Manages updates to the auth system.",
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: auth.schema_migrations ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "auth",
      "name": "schema_migrations",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: auth.schema_migrations ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "auth",
      "name": "schema_migrations",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: auth.sessions ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "auth",
      "name": "sessions",
      "type": "BASE TABLE",
      "comment": "Auth: Stores session data associated to a user.",
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: auth.sso_domains ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "auth",
      "name": "sso_domains",
      "type": "BASE TABLE",
      "comment": "Auth: Manages SSO email address domain mapping to an SSO Identity Provider.",
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: auth.sso_providers ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "auth",
      "name": "sso_providers",
      "type": "BASE TABLE",
      "comment": "Auth: Manages SSO identity provider information; see saml_providers for SAML.",
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: auth.users ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "auth",
      "name": "users",
      "type": "BASE TABLE",
      "comment": "Auth: Stores user login data within a secure schema.",
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: cron.job ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "cron",
      "name": "job",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: cron.job_run_details ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "cron",
      "name": "job_run_details",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: extensions.pg_stat_statements ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "extensions",
      "name": "pg_stat_statements",
      "type": "VIEW",
      "comment": null,
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: extensions.pg_stat_statements_info ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "extensions",
      "name": "pg_stat_statements_info",
      "type": "VIEW",
      "comment": null,
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: extensions.wrappers_fdw_stats ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "extensions",
      "name": "wrappers_fdw_stats",
      "type": "BASE TABLE",
      "comment": "Wrappers Foreign Data Wrapper statistics",
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: net._http_response ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "net",
      "name": "_http_response",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: net.http_request_queue ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "net",
      "name": "http_request_queue",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: pgmq.meta ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "pgmq",
      "name": "meta",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: private.cron_secrets ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "private",
      "name": "cron_secrets",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.ai_model_config ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "ai_model_config",
      "type": "BASE TABLE",
      "comment": "Simplified AI model configuration. All tenants use the default config unless overridden.",
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.ai_responses ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "ai_responses",
      "type": "BASE TABLE",
      "comment": "AI-generated responses with strict tenant isolation via RLS policies",
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.alert_notifications ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "alert_notifications",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.audit_logs ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "audit_logs",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.batch_generation_jobs ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "batch_generation_jobs",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.billing_usage ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "billing_usage",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.business_guidance ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "business_guidance",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.context_caches ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "context_caches",
      "type": "BASE TABLE",
      "comment": "Stores context cache metadata for AI generation cost optimization",
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.cron_job_executions ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "cron_job_executions",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.cron_job_health ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "cron_job_health",
      "type": "VIEW",
      "comment": "Cron job execution history - respects user RLS policies",
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: public.locations ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "locations",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.locations_with_oauth ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "locations_with_oauth",
      "type": "VIEW",
      "comment": "Locations with OAuth status - respects user RLS policies",
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: public.notification_preferences ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "notification_preferences",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.oauth_tokens ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "oauth_tokens",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.performance_metrics ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "performance_metrics",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.profiles ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "profiles",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.response_analytics ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "response_analytics",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.response_queue ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "response_queue",
      "type": "BASE TABLE",
      "comment": "Publishing queue for AI responses with strict tenant isolation via RLS policies",
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.response_settings ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "response_settings",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.response_templates ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "response_templates",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.reviews ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "reviews",
      "type": "BASE TABLE",
      "comment": "Customer reviews with strict tenant isolation via RLS policies",
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.system_config ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "system_config",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.system_health ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "system_health",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.system_logs ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "system_logs",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.tenant_invitations ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "tenant_invitations",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.tenant_users ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "tenant_users",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.tenants ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "tenants",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.upsell_items ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "upsell_items",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.v_dashboard_overview ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "v_dashboard_overview",
      "type": "VIEW",
      "comment": "Dashboard overview metrics - respects user RLS policies",
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: public.v_response_performance ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "v_response_performance",
      "type": "VIEW",
      "comment": "Response performance metrics - respects user RLS policies",
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: public.workflow_events ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "workflow_events",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.workflow_steps ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "workflow_steps",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.workflow_templates ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "workflow_templates",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: public.workflows ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "public",
      "name": "workflows",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: realtime.messages ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "realtime",
      "name": "messages",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: realtime.schema_migrations ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "realtime",
      "name": "schema_migrations",
      "type": "BASE TABLE",
      "comment": "Auth: Manages updates to the auth system.",
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: realtime.schema_migrations ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "realtime",
      "name": "schema_migrations",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: realtime.schema_migrations ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "realtime",
      "name": "schema_migrations",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: realtime.subscription ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "realtime",
      "name": "subscription",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: storage.buckets ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "storage",
      "name": "buckets",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: storage.migrations ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "storage",
      "name": "migrations",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: storage.migrations ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "storage",
      "name": "migrations",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: storage.objects ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "storage",
      "name": "objects",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: storage.s3_multipart_uploads ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "storage",
      "name": "s3_multipart_uploads",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: storage.s3_multipart_uploads_parts ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "storage",
      "name": "s3_multipart_uploads_parts",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: supabase_functions.hooks ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "supabase_functions",
      "name": "hooks",
      "type": "BASE TABLE",
      "comment": "Supabase Functions Hooks: Audit trail for triggered hooks.",
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: supabase_functions.migrations ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "supabase_functions",
      "name": "migrations",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: supabase_functions.migrations ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "supabase_functions",
      "name": "migrations",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: supabase_migrations.schema_migrations ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "supabase_migrations",
      "name": "schema_migrations",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: supabase_migrations.schema_migrations ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "supabase_migrations",
      "name": "schema_migrations",
      "type": "BASE TABLE",
      "comment": "Auth: Manages updates to the auth system.",
      "rls_enabled": "ENABLED"
    }
  },
  {
    "section": "=== TABLE: supabase_migrations.schema_migrations ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "supabase_migrations",
      "name": "schema_migrations",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: supabase_migrations.seed_files ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "supabase_migrations",
      "name": "seed_files",
      "type": "BASE TABLE",
      "comment": null,
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: vault.decrypted_secrets ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "vault",
      "name": "decrypted_secrets",
      "type": "VIEW",
      "comment": null,
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "=== TABLE: vault.secrets ===",
    "info_type": "TABLE_INFO",
    "sort_order": 1,
    "details": {
      "schema": "vault",
      "name": "secrets",
      "type": "BASE TABLE",
      "comment": "Table with encrypted `secret` column for storing sensitive information on disk.",
      "rls_enabled": "DISABLED"
    }
  },
  {
    "section": "auth.audit_log_entries",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "instance_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "payload",
        "type": "json",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "ip_address",
        "type": "character varying",
        "max_length": 64,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "''::character varying",
        "comment": null
      }
    ]
  },
  {
    "section": "auth.audit_log_entries",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "audit_log_entries_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16512_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16512_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "auth.audit_log_entries",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "audit_log_entries_pkey",
        "definition": "CREATE UNIQUE INDEX audit_log_entries_pkey ON auth.audit_log_entries USING btree (id)"
      },
      {
        "name": "audit_logs_instance_id_idx",
        "definition": "CREATE INDEX audit_logs_instance_id_idx ON auth.audit_log_entries USING btree (instance_id)"
      }
    ]
  },
  {
    "section": "auth.audit_log_entries",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "auth.audit_log_entries",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "auth.flow_state",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "user_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "auth_code",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "code_challenge_method",
        "type": "USER-DEFINED",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "code_challenge",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "provider_type",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "provider_access_token",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "provider_refresh_token",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 11,
        "name": "authentication_method",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 12,
        "name": "auth_code_issued_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "auth.flow_state",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "flow_state_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16901_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16901_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16901_11_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16901_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16901_6_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16901_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "auth.flow_state",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "flow_state_pkey",
        "definition": "CREATE UNIQUE INDEX flow_state_pkey ON auth.flow_state USING btree (id)"
      },
      {
        "name": "idx_auth_code",
        "definition": "CREATE INDEX idx_auth_code ON auth.flow_state USING btree (auth_code)"
      },
      {
        "name": "idx_user_id_auth_method",
        "definition": "CREATE INDEX idx_user_id_auth_method ON auth.flow_state USING btree (user_id, authentication_method)"
      },
      {
        "name": "flow_state_created_at_idx",
        "definition": "CREATE INDEX flow_state_created_at_idx ON auth.flow_state USING btree (created_at DESC)"
      }
    ]
  },
  {
    "section": "auth.flow_state",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "auth.flow_state",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "auth.identities",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "provider_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "user_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "identity_data",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "provider",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "last_sign_in_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "email",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": "Auth: Email is a generated column that references the optional email property in the identity_data"
      },
      {
        "position": 9,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      }
    ]
  },
  {
    "section": "auth.identities",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "identities_provider_id_provider_unique",
        "type": "UNIQUE",
        "column": "provider_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "identities_provider_id_provider_unique",
        "type": "UNIQUE",
        "column": "provider",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16698_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16698_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16698_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16698_9_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "identities_user_id_fkey",
        "type": "FOREIGN KEY",
        "column": "user_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16698_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "identities_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "auth.identities",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "identities_user_id_idx",
        "definition": "CREATE INDEX identities_user_id_idx ON auth.identities USING btree (user_id)"
      },
      {
        "name": "identities_email_idx",
        "definition": "CREATE INDEX identities_email_idx ON auth.identities USING btree (email text_pattern_ops)"
      },
      {
        "name": "identities_pkey",
        "definition": "CREATE UNIQUE INDEX identities_pkey ON auth.identities USING btree (id)"
      },
      {
        "name": "identities_provider_id_provider_unique",
        "definition": "CREATE UNIQUE INDEX identities_provider_id_provider_unique ON auth.identities USING btree (provider_id, provider)"
      }
    ]
  },
  {
    "section": "auth.identities",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "auth.identities",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "auth.instances",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "uuid",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "raw_base_config",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "auth.instances",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "16481_16505_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "instances_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "auth.instances",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "instances_pkey",
        "definition": "CREATE UNIQUE INDEX instances_pkey ON auth.instances USING btree (id)"
      }
    ]
  },
  {
    "section": "auth.instances",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "auth.instances",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "auth.mfa_amr_claims",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "session_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "authentication_method",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "auth.mfa_amr_claims",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "16481_16788_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "mfa_amr_claims_session_id_authentication_method_pkey",
        "type": "UNIQUE",
        "column": "authentication_method",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16788_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16788_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "mfa_amr_claims_session_id_authentication_method_pkey",
        "type": "UNIQUE",
        "column": "session_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16788_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "amr_id_pk",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "mfa_amr_claims_session_id_fkey",
        "type": "FOREIGN KEY",
        "column": "session_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16788_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "auth.mfa_amr_claims",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "mfa_amr_claims_session_id_authentication_method_pkey",
        "definition": "CREATE UNIQUE INDEX mfa_amr_claims_session_id_authentication_method_pkey ON auth.mfa_amr_claims USING btree (session_id, authentication_method)"
      },
      {
        "name": "amr_id_pk",
        "definition": "CREATE UNIQUE INDEX amr_id_pk ON auth.mfa_amr_claims USING btree (id)"
      }
    ]
  },
  {
    "section": "auth.mfa_amr_claims",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "auth.mfa_amr_claims",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "auth.mfa_challenges",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "factor_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "verified_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "ip_address",
        "type": "inet",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "otp_code",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "web_authn_session_data",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "auth.mfa_challenges",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "16481_16776_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "mfa_challenges_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16776_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16776_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16776_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "mfa_challenges_auth_factor_id_fkey",
        "type": "FOREIGN KEY",
        "column": "factor_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "auth.mfa_challenges",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "mfa_challenges_pkey",
        "definition": "CREATE UNIQUE INDEX mfa_challenges_pkey ON auth.mfa_challenges USING btree (id)"
      },
      {
        "name": "mfa_challenge_created_at_idx",
        "definition": "CREATE INDEX mfa_challenge_created_at_idx ON auth.mfa_challenges USING btree (created_at DESC)"
      }
    ]
  },
  {
    "section": "auth.mfa_challenges",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "auth.mfa_challenges",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "auth.mfa_factors",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "user_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "friendly_name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "factor_type",
        "type": "USER-DEFINED",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "status",
        "type": "USER-DEFINED",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "secret",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "phone",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "last_challenged_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 11,
        "name": "web_authn_credential",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 12,
        "name": "web_authn_aaguid",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "auth.mfa_factors",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "mfa_factors_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "mfa_factors_user_id_fkey",
        "type": "FOREIGN KEY",
        "column": "user_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "mfa_factors_last_challenged_at_key",
        "type": "UNIQUE",
        "column": "last_challenged_at",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16763_6_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16763_7_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16763_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16763_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16763_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16763_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "auth.mfa_factors",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "mfa_factors_pkey",
        "definition": "CREATE UNIQUE INDEX mfa_factors_pkey ON auth.mfa_factors USING btree (id)"
      },
      {
        "name": "mfa_factors_user_friendly_name_unique",
        "definition": "CREATE UNIQUE INDEX mfa_factors_user_friendly_name_unique ON auth.mfa_factors USING btree (friendly_name, user_id) WHERE (TRIM(BOTH FROM friendly_name) <> ''::text)"
      },
      {
        "name": "factor_id_created_at_idx",
        "definition": "CREATE INDEX factor_id_created_at_idx ON auth.mfa_factors USING btree (user_id, created_at)"
      },
      {
        "name": "mfa_factors_user_id_idx",
        "definition": "CREATE INDEX mfa_factors_user_id_idx ON auth.mfa_factors USING btree (user_id)"
      },
      {
        "name": "unique_phone_factor_per_user",
        "definition": "CREATE UNIQUE INDEX unique_phone_factor_per_user ON auth.mfa_factors USING btree (user_id, phone)"
      },
      {
        "name": "mfa_factors_last_challenged_at_key",
        "definition": "CREATE UNIQUE INDEX mfa_factors_last_challenged_at_key ON auth.mfa_factors USING btree (last_challenged_at)"
      }
    ]
  },
  {
    "section": "auth.mfa_factors",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "auth.mfa_factors",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "auth.oauth_clients",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "client_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "client_secret_hash",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "registration_type",
        "type": "USER-DEFINED",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "redirect_uris",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "grant_types",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "client_name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "client_uri",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "logo_uri",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 11,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 12,
        "name": "deleted_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "auth.oauth_clients",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "oauth_clients_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "oauth_clients_logo_uri_length",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "oauth_clients_client_uri_length",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_287139_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "oauth_clients_client_name_length",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_287139_11_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_287139_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_287139_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_287139_10_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_287139_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_287139_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "oauth_clients_client_id_key",
        "type": "UNIQUE",
        "column": "client_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_287139_6_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "auth.oauth_clients",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "oauth_clients_pkey",
        "definition": "CREATE UNIQUE INDEX oauth_clients_pkey ON auth.oauth_clients USING btree (id)"
      },
      {
        "name": "oauth_clients_client_id_key",
        "definition": "CREATE UNIQUE INDEX oauth_clients_client_id_key ON auth.oauth_clients USING btree (client_id)"
      },
      {
        "name": "oauth_clients_client_id_idx",
        "definition": "CREATE INDEX oauth_clients_client_id_idx ON auth.oauth_clients USING btree (client_id)"
      },
      {
        "name": "oauth_clients_deleted_at_idx",
        "definition": "CREATE INDEX oauth_clients_deleted_at_idx ON auth.oauth_clients USING btree (deleted_at)"
      }
    ]
  },
  {
    "section": "auth.oauth_clients",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "auth.oauth_clients",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "auth.one_time_tokens",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "user_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "token_type",
        "type": "USER-DEFINED",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "token_hash",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "relates_to",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "created_at",
        "type": "timestamp without time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 7,
        "name": "updated_at",
        "type": "timestamp without time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "auth.one_time_tokens",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "16481_16951_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "one_time_tokens_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "one_time_tokens_user_id_fkey",
        "type": "FOREIGN KEY",
        "column": "user_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16951_7_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "one_time_tokens_token_hash_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16951_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16951_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16951_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16951_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16951_6_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "auth.one_time_tokens",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "one_time_tokens_pkey",
        "definition": "CREATE UNIQUE INDEX one_time_tokens_pkey ON auth.one_time_tokens USING btree (id)"
      },
      {
        "name": "one_time_tokens_token_hash_hash_idx",
        "definition": "CREATE INDEX one_time_tokens_token_hash_hash_idx ON auth.one_time_tokens USING hash (token_hash)"
      },
      {
        "name": "one_time_tokens_relates_to_hash_idx",
        "definition": "CREATE INDEX one_time_tokens_relates_to_hash_idx ON auth.one_time_tokens USING hash (relates_to)"
      },
      {
        "name": "one_time_tokens_user_id_token_type_key",
        "definition": "CREATE UNIQUE INDEX one_time_tokens_user_id_token_type_key ON auth.one_time_tokens USING btree (user_id, token_type)"
      }
    ]
  },
  {
    "section": "auth.one_time_tokens",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "auth.one_time_tokens",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "auth.refresh_tokens",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "instance_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "id",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "NO",
        "default": "nextval('auth.refresh_tokens_id_seq'::regclass)",
        "comment": null
      },
      {
        "position": 3,
        "name": "token",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "user_id",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "revoked",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "parent",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "session_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "auth.refresh_tokens",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "refresh_tokens_session_id_fkey",
        "type": "FOREIGN KEY",
        "column": "session_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "refresh_tokens_token_unique",
        "type": "UNIQUE",
        "column": "token",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16494_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "refresh_tokens_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "auth.refresh_tokens",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "refresh_tokens_pkey",
        "definition": "CREATE UNIQUE INDEX refresh_tokens_pkey ON auth.refresh_tokens USING btree (id)"
      },
      {
        "name": "refresh_tokens_instance_id_idx",
        "definition": "CREATE INDEX refresh_tokens_instance_id_idx ON auth.refresh_tokens USING btree (instance_id)"
      },
      {
        "name": "refresh_tokens_instance_id_user_id_idx",
        "definition": "CREATE INDEX refresh_tokens_instance_id_user_id_idx ON auth.refresh_tokens USING btree (instance_id, user_id)"
      },
      {
        "name": "refresh_tokens_token_unique",
        "definition": "CREATE UNIQUE INDEX refresh_tokens_token_unique ON auth.refresh_tokens USING btree (token)"
      },
      {
        "name": "refresh_tokens_parent_idx",
        "definition": "CREATE INDEX refresh_tokens_parent_idx ON auth.refresh_tokens USING btree (parent)"
      },
      {
        "name": "refresh_tokens_session_id_revoked_idx",
        "definition": "CREATE INDEX refresh_tokens_session_id_revoked_idx ON auth.refresh_tokens USING btree (session_id, revoked)"
      },
      {
        "name": "refresh_tokens_updated_at_idx",
        "definition": "CREATE INDEX refresh_tokens_updated_at_idx ON auth.refresh_tokens USING btree (updated_at DESC)"
      }
    ]
  },
  {
    "section": "auth.refresh_tokens",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "auth.refresh_tokens",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "auth.saml_providers",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "sso_provider_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "entity_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "metadata_xml",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "metadata_url",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "attribute_mapping",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "name_id_format",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "auth.saml_providers",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "metadata_xml not empty",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16830_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "entity_id not empty",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "saml_providers_entity_id_key",
        "type": "UNIQUE",
        "column": "entity_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "saml_providers_sso_provider_id_fkey",
        "type": "FOREIGN KEY",
        "column": "sso_provider_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16830_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16830_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "metadata_url not empty",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "saml_providers_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16830_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "auth.saml_providers",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "saml_providers_pkey",
        "definition": "CREATE UNIQUE INDEX saml_providers_pkey ON auth.saml_providers USING btree (id)"
      },
      {
        "name": "saml_providers_entity_id_key",
        "definition": "CREATE UNIQUE INDEX saml_providers_entity_id_key ON auth.saml_providers USING btree (entity_id)"
      },
      {
        "name": "saml_providers_sso_provider_id_idx",
        "definition": "CREATE INDEX saml_providers_sso_provider_id_idx ON auth.saml_providers USING btree (sso_provider_id)"
      }
    ]
  },
  {
    "section": "auth.saml_providers",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "auth.saml_providers",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "auth.saml_relay_states",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "sso_provider_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "request_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "for_email",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "redirect_to",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "flow_state_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "auth.saml_relay_states",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "saml_relay_states_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "request_id not empty",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16848_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16848_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16848_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "saml_relay_states_flow_state_id_fkey",
        "type": "FOREIGN KEY",
        "column": "flow_state_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "saml_relay_states_sso_provider_id_fkey",
        "type": "FOREIGN KEY",
        "column": "sso_provider_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "auth.saml_relay_states",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "saml_relay_states_created_at_idx",
        "definition": "CREATE INDEX saml_relay_states_created_at_idx ON auth.saml_relay_states USING btree (created_at DESC)"
      },
      {
        "name": "saml_relay_states_pkey",
        "definition": "CREATE UNIQUE INDEX saml_relay_states_pkey ON auth.saml_relay_states USING btree (id)"
      },
      {
        "name": "saml_relay_states_sso_provider_id_idx",
        "definition": "CREATE INDEX saml_relay_states_sso_provider_id_idx ON auth.saml_relay_states USING btree (sso_provider_id)"
      },
      {
        "name": "saml_relay_states_for_email_idx",
        "definition": "CREATE INDEX saml_relay_states_for_email_idx ON auth.saml_relay_states USING btree (for_email)"
      }
    ]
  },
  {
    "section": "auth.saml_relay_states",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "auth.saml_relay_states",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "auth.schema_migrations",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "version",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "auth.schema_migrations",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": []
  },
  {
    "section": "auth.schema_migrations",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "schema_migrations_pkey",
        "definition": "CREATE UNIQUE INDEX schema_migrations_pkey ON auth.schema_migrations USING btree (version)"
      },
      {
        "name": "schema_migrations_pkey",
        "definition": "CREATE UNIQUE INDEX schema_migrations_pkey ON auth.schema_migrations USING btree (version)"
      },
      {
        "name": "schema_migrations_pkey",
        "definition": "CREATE UNIQUE INDEX schema_migrations_pkey ON auth.schema_migrations USING btree (version)"
      }
    ]
  },
  {
    "section": "auth.schema_migrations",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "auth.schema_migrations",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "auth.sessions",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "user_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "factor_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "aal",
        "type": "USER-DEFINED",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "not_after",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": "Auth: Not after is a nullable column that contains a timestamp after which the session should be regarded as expired."
      },
      {
        "position": 8,
        "name": "refreshed_at",
        "type": "timestamp without time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "user_agent",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "ip",
        "type": "inet",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 11,
        "name": "tag",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "auth.sessions",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "sessions_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16728_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16728_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "sessions_user_id_fkey",
        "type": "FOREIGN KEY",
        "column": "user_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "auth.sessions",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "sessions_pkey",
        "definition": "CREATE UNIQUE INDEX sessions_pkey ON auth.sessions USING btree (id)"
      },
      {
        "name": "sessions_not_after_idx",
        "definition": "CREATE INDEX sessions_not_after_idx ON auth.sessions USING btree (not_after DESC)"
      },
      {
        "name": "user_id_created_at_idx",
        "definition": "CREATE INDEX user_id_created_at_idx ON auth.sessions USING btree (user_id, created_at)"
      },
      {
        "name": "sessions_user_id_idx",
        "definition": "CREATE INDEX sessions_user_id_idx ON auth.sessions USING btree (user_id)"
      }
    ]
  },
  {
    "section": "auth.sessions",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "auth.sessions",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "auth.sso_domains",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "sso_provider_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "domain",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "auth.sso_domains",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "sso_domains_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16815_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16815_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16815_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "domain not empty",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "sso_domains_sso_provider_id_fkey",
        "type": "FOREIGN KEY",
        "column": "sso_provider_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "auth.sso_domains",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "sso_domains_pkey",
        "definition": "CREATE UNIQUE INDEX sso_domains_pkey ON auth.sso_domains USING btree (id)"
      },
      {
        "name": "sso_domains_sso_provider_id_idx",
        "definition": "CREATE INDEX sso_domains_sso_provider_id_idx ON auth.sso_domains USING btree (sso_provider_id)"
      },
      {
        "name": "sso_domains_domain_idx",
        "definition": "CREATE UNIQUE INDEX sso_domains_domain_idx ON auth.sso_domains USING btree (lower(domain))"
      }
    ]
  },
  {
    "section": "auth.sso_domains",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "auth.sso_domains",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "auth.sso_providers",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "resource_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": "Auth: Uniquely identifies a SSO provider according to a user-chosen resource ID (case insensitive), useful in infrastructure as code."
      },
      {
        "position": 3,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "disabled",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "auth.sso_providers",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "16481_16806_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "sso_providers_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "resource_id not empty",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "auth.sso_providers",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "sso_providers_pkey",
        "definition": "CREATE UNIQUE INDEX sso_providers_pkey ON auth.sso_providers USING btree (id)"
      },
      {
        "name": "sso_providers_resource_id_idx",
        "definition": "CREATE UNIQUE INDEX sso_providers_resource_id_idx ON auth.sso_providers USING btree (lower(resource_id))"
      },
      {
        "name": "sso_providers_resource_id_pattern_idx",
        "definition": "CREATE INDEX sso_providers_resource_id_pattern_idx ON auth.sso_providers USING btree (resource_id text_pattern_ops)"
      }
    ]
  },
  {
    "section": "auth.sso_providers",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "auth.sso_providers",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "auth.users",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "instance_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "aud",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "role",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "email",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "encrypted_password",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "email_confirmed_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "invited_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "confirmation_token",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "confirmation_sent_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 11,
        "name": "recovery_token",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 12,
        "name": "recovery_sent_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 13,
        "name": "email_change_token_new",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 14,
        "name": "email_change",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 15,
        "name": "email_change_sent_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 16,
        "name": "last_sign_in_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 17,
        "name": "raw_app_meta_data",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 18,
        "name": "raw_user_meta_data",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 19,
        "name": "is_super_admin",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 20,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 21,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 22,
        "name": "phone",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "NULL::character varying",
        "comment": null
      },
      {
        "position": 23,
        "name": "phone_confirmed_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 24,
        "name": "phone_change",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "''::character varying",
        "comment": null
      },
      {
        "position": 25,
        "name": "phone_change_token",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "''::character varying",
        "comment": null
      },
      {
        "position": 26,
        "name": "phone_change_sent_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 27,
        "name": "confirmed_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 28,
        "name": "email_change_token_current",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "''::character varying",
        "comment": null
      },
      {
        "position": 29,
        "name": "email_change_confirm_status",
        "type": "smallint",
        "max_length": null,
        "precision": 16,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 30,
        "name": "banned_until",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 31,
        "name": "reauthentication_token",
        "type": "character varying",
        "max_length": 255,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "''::character varying",
        "comment": null
      },
      {
        "position": 32,
        "name": "reauthentication_sent_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 33,
        "name": "is_sso_user",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "false",
        "comment": "Auth: Set this column to true when the account comes from SSO. These accounts can have duplicate emails."
      },
      {
        "position": 34,
        "name": "deleted_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 35,
        "name": "is_anonymous",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "false",
        "comment": null
      }
    ]
  },
  {
    "section": "auth.users",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "users_phone_key",
        "type": "UNIQUE",
        "column": "phone",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16482_35_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "users_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "users_email_change_confirm_status_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16482_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16481_16482_33_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "auth.users",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "users_pkey",
        "definition": "CREATE UNIQUE INDEX users_pkey ON auth.users USING btree (id)"
      },
      {
        "name": "users_instance_id_idx",
        "definition": "CREATE INDEX users_instance_id_idx ON auth.users USING btree (instance_id)"
      },
      {
        "name": "users_instance_id_email_idx",
        "definition": "CREATE INDEX users_instance_id_email_idx ON auth.users USING btree (instance_id, lower((email)::text))"
      },
      {
        "name": "confirmation_token_idx",
        "definition": "CREATE UNIQUE INDEX confirmation_token_idx ON auth.users USING btree (confirmation_token) WHERE ((confirmation_token)::text !~ '^[0-9 ]*$'::text)"
      },
      {
        "name": "recovery_token_idx",
        "definition": "CREATE UNIQUE INDEX recovery_token_idx ON auth.users USING btree (recovery_token) WHERE ((recovery_token)::text !~ '^[0-9 ]*$'::text)"
      },
      {
        "name": "email_change_token_current_idx",
        "definition": "CREATE UNIQUE INDEX email_change_token_current_idx ON auth.users USING btree (email_change_token_current) WHERE ((email_change_token_current)::text !~ '^[0-9 ]*$'::text)"
      },
      {
        "name": "email_change_token_new_idx",
        "definition": "CREATE UNIQUE INDEX email_change_token_new_idx ON auth.users USING btree (email_change_token_new) WHERE ((email_change_token_new)::text !~ '^[0-9 ]*$'::text)"
      },
      {
        "name": "reauthentication_token_idx",
        "definition": "CREATE UNIQUE INDEX reauthentication_token_idx ON auth.users USING btree (reauthentication_token) WHERE ((reauthentication_token)::text !~ '^[0-9 ]*$'::text)"
      },
      {
        "name": "users_email_partial_key",
        "definition": "CREATE UNIQUE INDEX users_email_partial_key ON auth.users USING btree (email) WHERE (is_sso_user = false)"
      },
      {
        "name": "users_phone_key",
        "definition": "CREATE UNIQUE INDEX users_phone_key ON auth.users USING btree (phone)"
      },
      {
        "name": "users_is_anonymous_idx",
        "definition": "CREATE INDEX users_is_anonymous_idx ON auth.users USING btree (is_anonymous)"
      }
    ]
  },
  {
    "section": "auth.users",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "auth.users",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": [
      {
        "name": "on_auth_user_created",
        "event": "INSERT",
        "timing": "AFTER",
        "statement": "EXECUTE FUNCTION handle_new_user()"
      }
    ]
  },
  {
    "section": "cron.job",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "jobid",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "NO",
        "default": "nextval('cron.jobid_seq'::regclass)",
        "comment": null
      },
      {
        "position": 2,
        "name": "schedule",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "command",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "nodename",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'localhost'::text",
        "comment": null
      },
      {
        "position": 5,
        "name": "nodeport",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "NO",
        "default": "inet_server_port()",
        "comment": null
      },
      {
        "position": 6,
        "name": "database",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "current_database()",
        "comment": null
      },
      {
        "position": 7,
        "name": "username",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "CURRENT_USER",
        "comment": null
      },
      {
        "position": 8,
        "name": "active",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "true",
        "comment": null
      },
      {
        "position": 9,
        "name": "jobname",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "cron.job",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": []
  },
  {
    "section": "cron.job",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "job_pkey",
        "definition": "CREATE UNIQUE INDEX job_pkey ON cron.job USING btree (jobid)"
      },
      {
        "name": "jobname_username_uniq",
        "definition": "CREATE UNIQUE INDEX jobname_username_uniq ON cron.job USING btree (jobname, username)"
      }
    ]
  },
  {
    "section": "cron.job",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "cron_job_policy",
        "roles": ["public"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "(username = CURRENT_USER)",
        "with_check_expression": null
      }
    ]
  },
  {
    "section": "cron.job",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "cron.job_run_details",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "jobid",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "runid",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "NO",
        "default": "nextval('cron.runid_seq'::regclass)",
        "comment": null
      },
      {
        "position": 3,
        "name": "job_pid",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "database",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "username",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "command",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "status",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "return_message",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "start_time",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "end_time",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "cron.job_run_details",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "job_run_details_pkey",
        "type": "PRIMARY KEY",
        "column": "runid",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "21943_21964_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "cron.job_run_details",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "job_run_details_pkey",
        "definition": "CREATE UNIQUE INDEX job_run_details_pkey ON cron.job_run_details USING btree (runid)"
      }
    ]
  },
  {
    "section": "cron.job_run_details",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "cron_job_run_details_policy",
        "roles": ["public"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "(username = CURRENT_USER)",
        "with_check_expression": null
      }
    ]
  },
  {
    "section": "cron.job_run_details",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "extensions.pg_stat_statements",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "userid",
        "type": "oid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "dbid",
        "type": "oid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "toplevel",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "queryid",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "query",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "plans",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "total_plan_time",
        "type": "double precision",
        "max_length": null,
        "precision": 53,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "min_plan_time",
        "type": "double precision",
        "max_length": null,
        "precision": 53,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "max_plan_time",
        "type": "double precision",
        "max_length": null,
        "precision": 53,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "mean_plan_time",
        "type": "double precision",
        "max_length": null,
        "precision": 53,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 11,
        "name": "stddev_plan_time",
        "type": "double precision",
        "max_length": null,
        "precision": 53,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 12,
        "name": "calls",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 13,
        "name": "total_exec_time",
        "type": "double precision",
        "max_length": null,
        "precision": 53,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 14,
        "name": "min_exec_time",
        "type": "double precision",
        "max_length": null,
        "precision": 53,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 15,
        "name": "max_exec_time",
        "type": "double precision",
        "max_length": null,
        "precision": 53,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 16,
        "name": "mean_exec_time",
        "type": "double precision",
        "max_length": null,
        "precision": 53,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 17,
        "name": "stddev_exec_time",
        "type": "double precision",
        "max_length": null,
        "precision": 53,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 18,
        "name": "rows",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 19,
        "name": "shared_blks_hit",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 20,
        "name": "shared_blks_read",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 21,
        "name": "shared_blks_dirtied",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 22,
        "name": "shared_blks_written",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 23,
        "name": "local_blks_hit",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 24,
        "name": "local_blks_read",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 25,
        "name": "local_blks_dirtied",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 26,
        "name": "local_blks_written",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 27,
        "name": "temp_blks_read",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 28,
        "name": "temp_blks_written",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 29,
        "name": "blk_read_time",
        "type": "double precision",
        "max_length": null,
        "precision": 53,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 30,
        "name": "blk_write_time",
        "type": "double precision",
        "max_length": null,
        "precision": 53,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 31,
        "name": "temp_blk_read_time",
        "type": "double precision",
        "max_length": null,
        "precision": 53,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 32,
        "name": "temp_blk_write_time",
        "type": "double precision",
        "max_length": null,
        "precision": 53,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 33,
        "name": "wal_records",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 34,
        "name": "wal_fpi",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 35,
        "name": "wal_bytes",
        "type": "numeric",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 36,
        "name": "jit_functions",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 37,
        "name": "jit_generation_time",
        "type": "double precision",
        "max_length": null,
        "precision": 53,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 38,
        "name": "jit_inlining_count",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 39,
        "name": "jit_inlining_time",
        "type": "double precision",
        "max_length": null,
        "precision": 53,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 40,
        "name": "jit_optimization_count",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 41,
        "name": "jit_optimization_time",
        "type": "double precision",
        "max_length": null,
        "precision": 53,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 42,
        "name": "jit_emission_count",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 43,
        "name": "jit_emission_time",
        "type": "double precision",
        "max_length": null,
        "precision": 53,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "extensions.pg_stat_statements",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": []
  },
  {
    "section": "extensions.pg_stat_statements",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": []
  },
  {
    "section": "extensions.pg_stat_statements",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "extensions.pg_stat_statements",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "extensions.pg_stat_statements_info",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "dealloc",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "stats_reset",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "extensions.pg_stat_statements_info",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": []
  },
  {
    "section": "extensions.pg_stat_statements_info",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": []
  },
  {
    "section": "extensions.pg_stat_statements_info",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "extensions.pg_stat_statements_info",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "extensions.wrappers_fdw_stats",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "fdw_name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "create_times",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": "Total number of times the FDW instacne has been created"
      },
      {
        "position": 3,
        "name": "rows_in",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": "Total rows input from origin"
      },
      {
        "position": 4,
        "name": "rows_out",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": "Total rows output to Postgres"
      },
      {
        "position": 5,
        "name": "bytes_in",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": "Total bytes input from origin"
      },
      {
        "position": 6,
        "name": "bytes_out",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": "Total bytes output to Postgres"
      },
      {
        "position": 7,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": "Metadata specific for the FDW"
      },
      {
        "position": 8,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "timezone('utc'::text, now())",
        "comment": null
      },
      {
        "position": 9,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "timezone('utc'::text, now())",
        "comment": null
      }
    ]
  },
  {
    "section": "extensions.wrappers_fdw_stats",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "16388_90019_8_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16388_90019_9_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16388_90019_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "wrappers_fdw_stats_pkey",
        "type": "PRIMARY KEY",
        "column": "fdw_name",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "extensions.wrappers_fdw_stats",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "wrappers_fdw_stats_pkey",
        "definition": "CREATE UNIQUE INDEX wrappers_fdw_stats_pkey ON extensions.wrappers_fdw_stats USING btree (fdw_name)"
      }
    ]
  },
  {
    "section": "extensions.wrappers_fdw_stats",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "extensions.wrappers_fdw_stats",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "net._http_response",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "status_code",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "content_type",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "headers",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "content",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "timed_out",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "error_msg",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "created",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "net._http_response",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "21995_22007_8_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "net._http_response",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "_http_response_created_idx",
        "definition": "CREATE INDEX _http_response_created_idx ON net._http_response USING btree (created)"
      }
    ]
  },
  {
    "section": "net._http_response",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "net._http_response",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "net.http_request_queue",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "NO",
        "default": "nextval('net.http_request_queue_id_seq'::regclass)",
        "comment": null
      },
      {
        "position": 2,
        "name": "method",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "url",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "headers",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "body",
        "type": "bytea",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "timeout_milliseconds",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "NO",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "net.http_request_queue",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "21995_22000_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "21995_22000_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "21995_22000_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "21995_22000_6_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "21995_22000_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "net.http_request_queue",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": []
  },
  {
    "section": "net.http_request_queue",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "net.http_request_queue",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "pgmq.meta",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "queue_name",
        "type": "character varying",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "is_partitioned",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "is_unlogged",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "pgmq.meta",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "39106_39108_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "is_unlogged IS NOT NULL"
      },
      {
        "name": "39106_39108_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "is_partitioned IS NOT NULL"
      },
      {
        "name": "39106_39108_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "39106_39108_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "queue_name IS NOT NULL"
      },
      {
        "name": "meta_queue_name_key",
        "type": "UNIQUE",
        "column": "queue_name",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "pgmq.meta",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "meta_queue_name_key",
        "definition": "CREATE UNIQUE INDEX meta_queue_name_key ON pgmq.meta USING btree (queue_name)"
      }
    ]
  },
  {
    "section": "pgmq.meta",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "pgmq.meta",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "private.cron_secrets",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "key",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "value",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "now()",
        "comment": null
      },
      {
        "position": 4,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "private.cron_secrets",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "220629_220630_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "value IS NOT NULL"
      },
      {
        "name": "220629_220630_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "key IS NOT NULL"
      },
      {
        "name": "cron_secrets_pkey",
        "type": "PRIMARY KEY",
        "column": "key",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "private.cron_secrets",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "cron_secrets_pkey",
        "definition": "CREATE UNIQUE INDEX cron_secrets_pkey ON private.cron_secrets USING btree (key)"
      }
    ]
  },
  {
    "section": "private.cron_secrets",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "private.cron_secrets",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.ai_model_config",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": "NULL for default config, or specific tenant UUID for overrides"
      },
      {
        "position": 3,
        "name": "primary_model",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'gemini-2.5-flash-lite'::text",
        "comment": "The AI model to use (e.g., gemini-2.5-flash-lite)"
      },
      {
        "position": 6,
        "name": "temperature",
        "type": "numeric",
        "max_length": null,
        "precision": 3,
        "scale": 2,
        "nullable": "YES",
        "default": "1.0",
        "comment": "Model temperature 0.0-2.0 (higher = more creative)"
      },
      {
        "position": 7,
        "name": "max_tokens",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "65535",
        "comment": "Maximum tokens in response"
      },
      {
        "position": 24,
        "name": "settings",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": "All other configuration including project, location, safety settings"
      },
      {
        "position": 25,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": "Additional metadata for tracking"
      },
      {
        "position": 26,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 27,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 36,
        "name": "api_version",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'v1beta'::text",
        "comment": "API version: v1, v1beta, or v1alpha"
      },
      {
        "position": 37,
        "name": "auth_method",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'service_account'::text",
        "comment": "Authentication: api_key or service_account"
      }
    ]
  },
  {
    "section": "public.ai_model_config",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "ai_model_config_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217780_25_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      },
      {
        "name": "2200_217780_27_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "updated_at IS NOT NULL"
      },
      {
        "name": "2200_217780_26_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "2200_217780_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "primary_model IS NOT NULL"
      },
      {
        "name": "ai_model_config_tenant_id_fkey",
        "type": "FOREIGN KEY",
        "column": "tenant_id",
        "referenced_table": "tenants",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "2200_217780_24_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "settings IS NOT NULL"
      },
      {
        "name": "ai_model_config_temperature_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((temperature >= (0)::numeric) AND (temperature <= (2)::numeric)))"
      },
      {
        "name": "2200_217780_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "ai_model_config_auth_method_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((auth_method = ANY (ARRAY['api_key'::text, 'service_account'::text, 'default'::text])))"
      }
    ]
  },
  {
    "section": "public.ai_model_config",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "idx_ai_model_config_tenant",
        "definition": "CREATE INDEX idx_ai_model_config_tenant ON public.ai_model_config USING btree (tenant_id)"
      },
      {
        "name": "ai_model_config_pkey",
        "definition": "CREATE UNIQUE INDEX ai_model_config_pkey ON public.ai_model_config USING btree (id)"
      }
    ]
  },
  {
    "section": "public.ai_model_config",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "public.ai_model_config",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.ai_responses",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "review_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "response_text",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "response_language",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'en'::text",
        "comment": null
      },
      {
        "position": 6,
        "name": "version",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "1",
        "comment": null
      },
      {
        "position": 7,
        "name": "ai_model",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "ai_model_version",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "generation_prompt",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "generation_cost",
        "type": "numeric",
        "max_length": null,
        "precision": 10,
        "scale": 6,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 11,
        "name": "generation_tokens",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 12,
        "name": "generation_time_ms",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 13,
        "name": "confidence_score",
        "type": "numeric",
        "max_length": null,
        "precision": 5,
        "scale": 4,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 14,
        "name": "quality_score",
        "type": "numeric",
        "max_length": null,
        "precision": 5,
        "scale": 4,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 15,
        "name": "tone",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 16,
        "name": "status",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'draft'::text",
        "comment": null
      },
      {
        "position": 17,
        "name": "approved_by",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 18,
        "name": "approved_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 19,
        "name": "rejected_by",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 20,
        "name": "rejected_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 21,
        "name": "rejection_reason",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 22,
        "name": "rejection_feedback",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 23,
        "name": "published_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 24,
        "name": "published_by",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 25,
        "name": "platform_response_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 26,
        "name": "template_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 27,
        "name": "business_context",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 28,
        "name": "personalization_data",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 29,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 30,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 31,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 32,
        "name": "deleted_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "public.ai_responses",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "2200_217368_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "review_id IS NOT NULL"
      },
      {
        "name": "valid_publishing",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((status <> 'published'::text) OR ((published_by IS NOT NULL) AND (published_at IS NOT NULL))))"
      },
      {
        "name": "valid_publishing",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((status <> 'published'::text) OR ((published_by IS NOT NULL) AND (published_at IS NOT NULL))))"
      },
      {
        "name": "valid_publishing",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((status <> 'published'::text) OR ((published_by IS NOT NULL) AND (published_at IS NOT NULL))))"
      },
      {
        "name": "2200_217368_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "response_text IS NOT NULL"
      },
      {
        "name": "ai_responses_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "ai_responses_tenant_id_fkey",
        "type": "FOREIGN KEY",
        "column": "tenant_id",
        "referenced_table": "tenants",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "ai_responses_review_id_fkey",
        "type": "FOREIGN KEY",
        "column": "review_id",
        "referenced_table": "reviews",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "ai_responses_approved_by_fkey",
        "type": "FOREIGN KEY",
        "column": "approved_by",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "ai_responses_rejected_by_fkey",
        "type": "FOREIGN KEY",
        "column": "rejected_by",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "ai_responses_published_by_fkey",
        "type": "FOREIGN KEY",
        "column": "published_by",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "ai_responses_quality_score_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((quality_score >= (0)::numeric) AND (quality_score <= (1)::numeric)))"
      },
      {
        "name": "valid_rejection",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((((rejected_at IS NULL) AND (rejection_reason IS NULL)) OR ((rejected_at IS NOT NULL) AND (rejection_reason IS NOT NULL))))"
      },
      {
        "name": "valid_rejection",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((((rejected_at IS NULL) AND (rejection_reason IS NULL)) OR ((rejected_at IS NOT NULL) AND (rejection_reason IS NOT NULL))))"
      },
      {
        "name": "fk_ai_responses_template_id",
        "type": "FOREIGN KEY",
        "column": "template_id",
        "referenced_table": "response_templates",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "2200_217368_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "2200_217368_29_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      },
      {
        "name": "ai_responses_confidence_score_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((confidence_score >= (0)::numeric) AND (confidence_score <= (1)::numeric)))"
      },
      {
        "name": "2200_217368_30_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "valid_approval",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((((status <> 'approved'::text) OR ((approved_by IS NOT NULL) AND (approved_at IS NOT NULL))) AND ((status <> 'rejected'::text) OR ((rejected_by IS NOT NULL) AND (rejected_at IS NOT NULL)))))"
      },
      {
        "name": "valid_approval",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((((status <> 'approved'::text) OR ((approved_by IS NOT NULL) AND (approved_at IS NOT NULL))) AND ((status <> 'rejected'::text) OR ((rejected_by IS NOT NULL) AND (rejected_at IS NOT NULL)))))"
      },
      {
        "name": "valid_approval",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((((status <> 'approved'::text) OR ((approved_by IS NOT NULL) AND (approved_at IS NOT NULL))) AND ((status <> 'rejected'::text) OR ((rejected_by IS NOT NULL) AND (rejected_at IS NOT NULL)))))"
      },
      {
        "name": "valid_approval",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((((status <> 'approved'::text) OR ((approved_by IS NOT NULL) AND (approved_at IS NOT NULL))) AND ((status <> 'rejected'::text) OR ((rejected_by IS NOT NULL) AND (rejected_at IS NOT NULL)))))"
      },
      {
        "name": "valid_approval",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((((status <> 'approved'::text) OR ((approved_by IS NOT NULL) AND (approved_at IS NOT NULL))) AND ((status <> 'rejected'::text) OR ((rejected_by IS NOT NULL) AND (rejected_at IS NOT NULL)))))"
      },
      {
        "name": "2200_217368_31_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "updated_at IS NOT NULL"
      },
      {
        "name": "2200_217368_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "tenant_id IS NOT NULL"
      },
      {
        "name": "ai_responses_status_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((status = ANY (ARRAY['draft'::text, 'pending_review'::text, 'approved'::text, 'rejected'::text, 'published'::text])))"
      },
      {
        "name": "ai_responses_tone_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((tone = ANY (ARRAY['professional'::text, 'friendly'::text, 'empathetic'::text, 'apologetic'::text, 'grateful'::text])))"
      },
      {
        "name": "2200_217368_7_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "ai_model IS NOT NULL"
      }
    ]
  },
  {
    "section": "public.ai_responses",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "ai_responses_pkey",
        "definition": "CREATE UNIQUE INDEX ai_responses_pkey ON public.ai_responses USING btree (id)"
      },
      {
        "name": "idx_ai_responses_tenant_id",
        "definition": "CREATE INDEX idx_ai_responses_tenant_id ON public.ai_responses USING btree (tenant_id)"
      },
      {
        "name": "idx_ai_responses_review_id",
        "definition": "CREATE INDEX idx_ai_responses_review_id ON public.ai_responses USING btree (review_id)"
      },
      {
        "name": "idx_ai_responses_tenant_status",
        "definition": "CREATE INDEX idx_ai_responses_tenant_status ON public.ai_responses USING btree (tenant_id, status)"
      },
      {
        "name": "ai_responses_unique_active_per_review",
        "definition": "CREATE UNIQUE INDEX ai_responses_unique_active_per_review ON public.ai_responses USING btree (review_id, tenant_id) WHERE (deleted_at IS NULL)"
      },
      {
        "name": "idx_ai_responses_review_status_active",
        "definition": "CREATE INDEX idx_ai_responses_review_status_active ON public.ai_responses USING btree (review_id, status, created_at) WHERE (deleted_at IS NULL)"
      },
      {
        "name": "idx_ai_responses_tenant",
        "definition": "CREATE INDEX idx_ai_responses_tenant ON public.ai_responses USING btree (tenant_id)"
      }
    ]
  },
  {
    "section": "public.ai_responses",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "public.ai_responses",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.alert_notifications",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "alert_type",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "severity",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "title",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "message",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "status",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'pending'::text",
        "comment": null
      },
      {
        "position": 9,
        "name": "sent_at",
        "type": "timestamp without time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "acknowledged_at",
        "type": "timestamp without time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 11,
        "name": "created_at",
        "type": "timestamp without time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "public.alert_notifications",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "alert_notifications_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "alert_notifications_tenant_id_fkey",
        "type": "FOREIGN KEY",
        "column": "tenant_id",
        "referenced_table": "tenants",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "2200_224431_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "severity IS NOT NULL"
      },
      {
        "name": "2200_224431_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "alert_type IS NOT NULL"
      },
      {
        "name": "2200_224431_6_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "message IS NOT NULL"
      },
      {
        "name": "2200_224431_8_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "status IS NOT NULL"
      },
      {
        "name": "2200_224431_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "alert_notifications_severity_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((severity = ANY (ARRAY['low'::text, 'medium'::text, 'high'::text, 'critical'::text])))"
      },
      {
        "name": "2200_224431_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "title IS NOT NULL"
      },
      {
        "name": "alert_notifications_status_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((status = ANY (ARRAY['pending'::text, 'sent'::text, 'failed'::text, 'acknowledged'::text])))"
      }
    ]
  },
  {
    "section": "public.alert_notifications",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "alert_notifications_pkey",
        "definition": "CREATE UNIQUE INDEX alert_notifications_pkey ON public.alert_notifications USING btree (id)"
      },
      {
        "name": "idx_alert_notifications_tenant",
        "definition": "CREATE INDEX idx_alert_notifications_tenant ON public.alert_notifications USING btree (tenant_id)"
      }
    ]
  },
  {
    "section": "public.alert_notifications",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "service_role_notifications_all",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      },
      {
        "name": "tenants_view_notifications",
        "roles": ["authenticated"],
        "command": "SELECT",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.get_user_active_tenants() AS get_user_active_tenants))",
        "with_check_expression": null
      },
      {
        "name": "admins_manage_notifications",
        "roles": ["authenticated"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text]) AS user_has_tenant_role))",
        "with_check_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text]) AS user_has_tenant_role))"
      }
    ]
  },
  {
    "section": "public.alert_notifications",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.audit_logs",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "user_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "action",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "resource_type",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "resource_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "old_values",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "new_values",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "ip_address",
        "type": "inet",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "user_agent",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 11,
        "name": "session_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 12,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 13,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "public.audit_logs",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "audit_logs_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217278_13_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "2200_217278_12_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      },
      {
        "name": "2200_217278_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "resource_type IS NOT NULL"
      },
      {
        "name": "audit_logs_user_id_fkey",
        "type": "FOREIGN KEY",
        "column": "user_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217278_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "2200_217278_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "action IS NOT NULL"
      },
      {
        "name": "audit_logs_tenant_id_fkey",
        "type": "FOREIGN KEY",
        "column": "tenant_id",
        "referenced_table": "tenants",
        "referenced_column": "id",
        "check_clause": null
      }
    ]
  },
  {
    "section": "public.audit_logs",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "audit_logs_pkey",
        "definition": "CREATE UNIQUE INDEX audit_logs_pkey ON public.audit_logs USING btree (id)"
      }
    ]
  },
  {
    "section": "public.audit_logs",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "service_role_audit_all",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      },
      {
        "name": "admins_view_audit_logs",
        "roles": ["authenticated"],
        "command": "SELECT",
        "permissive": "RESTRICTIVE",
        "using_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text]) AS user_has_tenant_role))",
        "with_check_expression": null
      }
    ]
  },
  {
    "section": "public.audit_logs",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.batch_generation_jobs",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "description",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "filter_criteria",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "status",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'pending'::text",
        "comment": null
      },
      {
        "position": 7,
        "name": "progress",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 8,
        "name": "total_reviews",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 9,
        "name": "processed_reviews",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 10,
        "name": "successful_generations",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 11,
        "name": "failed_generations",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 12,
        "name": "template_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 13,
        "name": "generation_settings",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 14,
        "name": "started_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 15,
        "name": "completed_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 16,
        "name": "estimated_completion_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 17,
        "name": "error_message",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 18,
        "name": "error_details",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 19,
        "name": "created_by",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 20,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 21,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 22,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "public.batch_generation_jobs",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "2200_217492_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "name IS NOT NULL"
      },
      {
        "name": "batch_generation_jobs_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "batch_generation_jobs_progress_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((progress >= 0) AND (progress <= 100)))"
      },
      {
        "name": "batch_generation_jobs_template_id_fkey",
        "type": "FOREIGN KEY",
        "column": "template_id",
        "referenced_table": "response_templates",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "2200_217492_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "tenant_id IS NOT NULL"
      },
      {
        "name": "batch_generation_jobs_tenant_id_fkey",
        "type": "FOREIGN KEY",
        "column": "tenant_id",
        "referenced_table": "tenants",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "batch_generation_jobs_created_by_fkey",
        "type": "FOREIGN KEY",
        "column": "created_by",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217492_19_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_by IS NOT NULL"
      },
      {
        "name": "2200_217492_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "filter_criteria IS NOT NULL"
      },
      {
        "name": "2200_217492_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "2200_217492_21_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "batch_generation_jobs_status_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((status = ANY (ARRAY['pending'::text, 'processing'::text, 'completed'::text, 'failed'::text, 'cancelled'::text])))"
      },
      {
        "name": "2200_217492_20_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      },
      {
        "name": "2200_217492_22_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "updated_at IS NOT NULL"
      }
    ]
  },
  {
    "section": "public.batch_generation_jobs",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "batch_generation_jobs_pkey",
        "definition": "CREATE UNIQUE INDEX batch_generation_jobs_pkey ON public.batch_generation_jobs USING btree (id)"
      }
    ]
  },
  {
    "section": "public.batch_generation_jobs",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "service_role_batch_jobs_all",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      },
      {
        "name": "tenants_view_batch_jobs",
        "roles": ["authenticated"],
        "command": "SELECT",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.get_user_active_tenants() AS get_user_active_tenants))",
        "with_check_expression": null
      },
      {
        "name": "members_manage_batch_jobs",
        "roles": ["authenticated"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text, 'member'::text]) AS user_has_tenant_role))",
        "with_check_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text, 'member'::text]) AS user_has_tenant_role))"
      }
    ]
  },
  {
    "section": "public.batch_generation_jobs",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.billing_usage",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "billing_period_start",
        "type": "date",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "billing_period_end",
        "type": "date",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "reviews_processed",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 6,
        "name": "ai_generations",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 7,
        "name": "api_requests",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 8,
        "name": "storage_used_gb",
        "type": "numeric",
        "max_length": null,
        "precision": 10,
        "scale": 3,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 9,
        "name": "ai_generation_cost",
        "type": "numeric",
        "max_length": null,
        "precision": 10,
        "scale": 6,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 10,
        "name": "storage_cost",
        "type": "numeric",
        "max_length": null,
        "precision": 10,
        "scale": 6,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 11,
        "name": "api_cost",
        "type": "numeric",
        "max_length": null,
        "precision": 10,
        "scale": 6,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 12,
        "name": "total_cost",
        "type": "numeric",
        "max_length": null,
        "precision": 10,
        "scale": 6,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 13,
        "name": "plan_review_limit",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 14,
        "name": "plan_ai_generation_limit",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 15,
        "name": "plan_api_limit",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 16,
        "name": "plan_storage_limit_gb",
        "type": "numeric",
        "max_length": null,
        "precision": 10,
        "scale": 3,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 17,
        "name": "overage_reviews",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 18,
        "name": "overage_ai_generations",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 19,
        "name": "overage_api_requests",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 20,
        "name": "overage_storage_gb",
        "type": "numeric",
        "max_length": null,
        "precision": 10,
        "scale": 3,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 21,
        "name": "overage_cost",
        "type": "numeric",
        "max_length": null,
        "precision": 10,
        "scale": 6,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 22,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 23,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 24,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "public.billing_usage",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "2200_217864_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "billing_period_start IS NOT NULL"
      },
      {
        "name": "billing_usage_tenant_id_fkey",
        "type": "FOREIGN KEY",
        "column": "tenant_id",
        "referenced_table": "tenants",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "billing_usage_tenant_id_billing_period_start_key",
        "type": "UNIQUE",
        "column": "tenant_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217864_23_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "billing_usage_tenant_id_billing_period_start_key",
        "type": "UNIQUE",
        "column": "tenant_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217864_24_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "updated_at IS NOT NULL"
      },
      {
        "name": "billing_usage_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217864_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "tenant_id IS NOT NULL"
      },
      {
        "name": "2200_217864_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "billing_period_end IS NOT NULL"
      },
      {
        "name": "2200_217864_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "valid_billing_period",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((billing_period_end >= billing_period_start))"
      },
      {
        "name": "valid_billing_period",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((billing_period_end >= billing_period_start))"
      },
      {
        "name": "2200_217864_22_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      },
      {
        "name": "billing_usage_tenant_id_billing_period_start_key",
        "type": "UNIQUE",
        "column": "billing_period_start",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "billing_usage_tenant_id_billing_period_start_key",
        "type": "UNIQUE",
        "column": "billing_period_start",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "public.billing_usage",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "billing_usage_pkey",
        "definition": "CREATE UNIQUE INDEX billing_usage_pkey ON public.billing_usage USING btree (id)"
      },
      {
        "name": "billing_usage_tenant_id_billing_period_start_key",
        "definition": "CREATE UNIQUE INDEX billing_usage_tenant_id_billing_period_start_key ON public.billing_usage USING btree (tenant_id, billing_period_start)"
      }
    ]
  },
  {
    "section": "public.billing_usage",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "service_role_billing_all",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      },
      {
        "name": "owners_only_billing",
        "roles": ["authenticated"],
        "command": "SELECT",
        "permissive": "RESTRICTIVE",
        "using_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text]) AS user_has_tenant_role))",
        "with_check_expression": null
      }
    ]
  },
  {
    "section": "public.billing_usage",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.business_guidance",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "brand_voice",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "response_tone",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'{\"neutral\": \"professional\", \"negative\": \"empathetic\", \"positive\": \"grateful\"}'::jsonb",
        "comment": null
      },
      {
        "position": 5,
        "name": "writing_style",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "key_messaging",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "max_response_length",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "500",
        "comment": null
      },
      {
        "position": 8,
        "name": "min_response_length",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "50",
        "comment": null
      },
      {
        "position": 9,
        "name": "include_business_name",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "true",
        "comment": null
      },
      {
        "position": 10,
        "name": "include_call_to_action",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "true",
        "comment": null
      },
      {
        "position": 11,
        "name": "default_call_to_action",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 12,
        "name": "primary_language",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'en'::text",
        "comment": null
      },
      {
        "position": 13,
        "name": "supported_languages",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'{en}'::text[]",
        "comment": null
      },
      {
        "position": 14,
        "name": "auto_translate",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 15,
        "name": "prohibited_words",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 16,
        "name": "required_phrases",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 17,
        "name": "compliance_requirements",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 18,
        "name": "auto_respond_positive",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "true",
        "comment": null
      },
      {
        "position": 19,
        "name": "auto_respond_neutral",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 20,
        "name": "auto_respond_negative",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 21,
        "name": "review_threshold_for_auto_response",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "4",
        "comment": null
      },
      {
        "position": 22,
        "name": "business_hours",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 23,
        "name": "contact_information",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 24,
        "name": "services_offered",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 25,
        "name": "unique_selling_points",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 26,
        "name": "industry_guidelines",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 27,
        "name": "regulatory_compliance",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 28,
        "name": "settings",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 29,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 30,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 31,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "public.business_guidance",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "2200_217676_29_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      },
      {
        "name": "valid_response_length",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((min_response_length < max_response_length))"
      },
      {
        "name": "business_guidance_tenant_id_fkey",
        "type": "FOREIGN KEY",
        "column": "tenant_id",
        "referenced_table": "tenants",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "2200_217676_31_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "updated_at IS NOT NULL"
      },
      {
        "name": "business_guidance_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217676_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "valid_threshold",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((review_threshold_for_auto_response >= 1) AND (review_threshold_for_auto_response <= 5)))"
      },
      {
        "name": "2200_217676_28_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "settings IS NOT NULL"
      },
      {
        "name": "2200_217676_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "tenant_id IS NOT NULL"
      },
      {
        "name": "2200_217676_30_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "valid_response_length",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((min_response_length < max_response_length))"
      }
    ]
  },
  {
    "section": "public.business_guidance",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "business_guidance_pkey",
        "definition": "CREATE UNIQUE INDEX business_guidance_pkey ON public.business_guidance USING btree (id)"
      }
    ]
  },
  {
    "section": "public.business_guidance",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "service_role_business_guidance_all",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      },
      {
        "name": "tenants_view_business_guidance",
        "roles": ["authenticated"],
        "command": "SELECT",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.get_user_active_tenants() AS get_user_active_tenants))",
        "with_check_expression": null
      },
      {
        "name": "admins_manage_business_guidance",
        "roles": ["authenticated"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text]) AS user_has_tenant_role))",
        "with_check_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text]) AS user_has_tenant_role))"
      }
    ]
  },
  {
    "section": "public.business_guidance",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.context_caches",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "cache_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "context_hash",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "token_count",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "expires_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "now()",
        "comment": null
      },
      {
        "position": 8,
        "name": "last_used_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "now()",
        "comment": null
      },
      {
        "position": 9,
        "name": "usage_count",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 10,
        "name": "estimated_cost_savings",
        "type": "numeric",
        "max_length": null,
        "precision": 10,
        "scale": 4,
        "nullable": "YES",
        "default": "0",
        "comment": null
      }
    ]
  },
  {
    "section": "public.context_caches",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "2200_211900_6_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "expires_at IS NOT NULL"
      },
      {
        "name": "2200_211900_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "token_count IS NOT NULL"
      },
      {
        "name": "2200_211900_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "context_caches_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_211900_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "tenant_id IS NOT NULL"
      },
      {
        "name": "2200_211900_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "cache_id IS NOT NULL"
      },
      {
        "name": "2200_211900_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "context_hash IS NOT NULL"
      }
    ]
  },
  {
    "section": "public.context_caches",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "context_caches_pkey",
        "definition": "CREATE UNIQUE INDEX context_caches_pkey ON public.context_caches USING btree (id)"
      },
      {
        "name": "idx_context_caches_tenant_hash",
        "definition": "CREATE INDEX idx_context_caches_tenant_hash ON public.context_caches USING btree (tenant_id, context_hash)"
      },
      {
        "name": "idx_context_caches_expires",
        "definition": "CREATE INDEX idx_context_caches_expires ON public.context_caches USING btree (expires_at)"
      },
      {
        "name": "idx_context_caches_usage",
        "definition": "CREATE INDEX idx_context_caches_usage ON public.context_caches USING btree (usage_count DESC)"
      }
    ]
  },
  {
    "section": "public.context_caches",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "service_role_context_caches_all",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      },
      {
        "name": "tenants_view_context_caches",
        "roles": ["authenticated"],
        "command": "SELECT",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.get_user_active_tenants() AS get_user_active_tenants))",
        "with_check_expression": null
      }
    ]
  },
  {
    "section": "public.context_caches",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.cron_job_executions",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "job_name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "started_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "now()",
        "comment": null
      },
      {
        "position": 4,
        "name": "completed_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "status",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "error_details",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "public.cron_job_executions",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "2200_225876_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "job_name IS NOT NULL"
      },
      {
        "name": "2200_225876_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "cron_job_executions_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "cron_job_executions_status_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((status = ANY (ARRAY['running'::text, 'completed'::text, 'failed'::text])))"
      }
    ]
  },
  {
    "section": "public.cron_job_executions",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "cron_job_executions_pkey",
        "definition": "CREATE UNIQUE INDEX cron_job_executions_pkey ON public.cron_job_executions USING btree (id)"
      },
      {
        "name": "idx_cron_job_executions_job_name_started",
        "definition": "CREATE INDEX idx_cron_job_executions_job_name_started ON public.cron_job_executions USING btree (job_name, started_at DESC)"
      }
    ]
  },
  {
    "section": "public.cron_job_executions",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "cron_jobs_service_only",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "RESTRICTIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      }
    ]
  },
  {
    "section": "public.cron_job_executions",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.cron_job_health",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "job_name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "started_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "completed_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "status",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "error_details",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "execution_duration_ms",
        "type": "numeric",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "public.cron_job_health",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": []
  },
  {
    "section": "public.cron_job_health",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": []
  },
  {
    "section": "public.cron_job_health",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "public.cron_job_health",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.locations",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "address",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "phone",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "website",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "latitude",
        "type": "numeric",
        "max_length": null,
        "precision": 10,
        "scale": 8,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "longitude",
        "type": "numeric",
        "max_length": null,
        "precision": 11,
        "scale": 8,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "timezone",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'UTC'::text",
        "comment": null
      },
      {
        "position": 10,
        "name": "google_place_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 11,
        "name": "facebook_page_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 12,
        "name": "yelp_business_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 13,
        "name": "tripadvisor_location_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 14,
        "name": "trustpilot_business_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 18,
        "name": "platform_tokens",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 19,
        "name": "business_type",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 20,
        "name": "industry",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 21,
        "name": "price_level",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 22,
        "name": "rating",
        "type": "numeric",
        "max_length": null,
        "precision": 3,
        "scale": 2,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 23,
        "name": "review_count",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 24,
        "name": "status",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'active'::text",
        "comment": null
      },
      {
        "position": 25,
        "name": "sync_enabled",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "true",
        "comment": null
      },
      {
        "position": 26,
        "name": "auto_sync_frequency",
        "type": "interval",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'01:00:00'::interval",
        "comment": null
      },
      {
        "position": 27,
        "name": "last_sync_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 28,
        "name": "next_sync_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 29,
        "name": "settings",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 30,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 31,
        "name": "platform_data",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 32,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 33,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 34,
        "name": "deleted_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 35,
        "name": "oauth_token_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "public.locations",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "has_platform_id",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((google_place_id IS NOT NULL) OR (facebook_page_id IS NOT NULL) OR (yelp_business_id IS NOT NULL) OR (tripadvisor_location_id IS NOT NULL) OR (trustpilot_business_id IS NOT NULL)))"
      },
      {
        "name": "locations_tenant_id_fkey",
        "type": "FOREIGN KEY",
        "column": "tenant_id",
        "referenced_table": "tenants",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "2200_217298_33_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "updated_at IS NOT NULL"
      },
      {
        "name": "locations_status_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((status = ANY (ARRAY['active'::text, 'inactive'::text, 'error'::text, 'syncing'::text])))"
      },
      {
        "name": "2200_217298_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "name IS NOT NULL"
      },
      {
        "name": "2200_217298_29_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "settings IS NOT NULL"
      },
      {
        "name": "2200_217298_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "2200_217298_31_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "platform_data IS NOT NULL"
      },
      {
        "name": "2200_217298_32_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "valid_coordinates",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((((latitude IS NULL) AND (longitude IS NULL)) OR ((latitude IS NOT NULL) AND (longitude IS NOT NULL) AND ((latitude >= ('-90'::integer)::numeric) AND (latitude <= (90)::numeric)) AND ((longitude >= ('-180'::integer)::numeric) AND (longitude <= (180)::numeric)))))"
      },
      {
        "name": "valid_coordinates",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((((latitude IS NULL) AND (longitude IS NULL)) OR ((latitude IS NOT NULL) AND (longitude IS NOT NULL) AND ((latitude >= ('-90'::integer)::numeric) AND (latitude <= (90)::numeric)) AND ((longitude >= ('-180'::integer)::numeric) AND (longitude <= (180)::numeric)))))"
      },
      {
        "name": "2200_217298_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "tenant_id IS NOT NULL"
      },
      {
        "name": "locations_oauth_token_id_fkey",
        "type": "FOREIGN KEY",
        "column": "oauth_token_id",
        "referenced_table": "oauth_tokens",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "locations_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217298_30_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      },
      {
        "name": "locations_rating_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((rating >= (0)::numeric) AND (rating <= (5)::numeric)))"
      },
      {
        "name": "locations_google_place_id_key",
        "type": "UNIQUE",
        "column": "google_place_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "locations_price_level_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((price_level >= 1) AND (price_level <= 4)))"
      },
      {
        "name": "has_platform_id",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((google_place_id IS NOT NULL) OR (facebook_page_id IS NOT NULL) OR (yelp_business_id IS NOT NULL) OR (tripadvisor_location_id IS NOT NULL) OR (trustpilot_business_id IS NOT NULL)))"
      },
      {
        "name": "has_platform_id",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((google_place_id IS NOT NULL) OR (facebook_page_id IS NOT NULL) OR (yelp_business_id IS NOT NULL) OR (tripadvisor_location_id IS NOT NULL) OR (trustpilot_business_id IS NOT NULL)))"
      },
      {
        "name": "has_platform_id",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((google_place_id IS NOT NULL) OR (facebook_page_id IS NOT NULL) OR (yelp_business_id IS NOT NULL) OR (tripadvisor_location_id IS NOT NULL) OR (trustpilot_business_id IS NOT NULL)))"
      },
      {
        "name": "has_platform_id",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((google_place_id IS NOT NULL) OR (facebook_page_id IS NOT NULL) OR (yelp_business_id IS NOT NULL) OR (tripadvisor_location_id IS NOT NULL) OR (trustpilot_business_id IS NOT NULL)))"
      }
    ]
  },
  {
    "section": "public.locations",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "locations_pkey",
        "definition": "CREATE UNIQUE INDEX locations_pkey ON public.locations USING btree (id)"
      },
      {
        "name": "locations_google_place_id_key",
        "definition": "CREATE UNIQUE INDEX locations_google_place_id_key ON public.locations USING btree (google_place_id)"
      },
      {
        "name": "idx_locations_tenant",
        "definition": "CREATE INDEX idx_locations_tenant ON public.locations USING btree (tenant_id)"
      },
      {
        "name": "idx_locations_tenant_id",
        "definition": "CREATE INDEX idx_locations_tenant_id ON public.locations USING btree (tenant_id)"
      },
      {
        "name": "idx_locations_oauth_token_id",
        "definition": "CREATE INDEX idx_locations_oauth_token_id ON public.locations USING btree (oauth_token_id) WHERE (oauth_token_id IS NOT NULL)"
      },
      {
        "name": "idx_locations_provider_tokens",
        "definition": "CREATE INDEX idx_locations_provider_tokens ON public.locations USING btree (tenant_id, oauth_token_id) WHERE ((oauth_token_id IS NOT NULL) AND (status = 'active'::text))"
      }
    ]
  },
  {
    "section": "public.locations",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "service_role_locations_all",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      },
      {
        "name": "tenants_view_locations",
        "roles": ["authenticated"],
        "command": "SELECT",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.get_user_active_tenants() AS get_user_active_tenants))",
        "with_check_expression": null
      },
      {
        "name": "members_manage_locations",
        "roles": ["authenticated"],
        "command": "INSERT",
        "permissive": "PERMISSIVE",
        "using_expression": null,
        "with_check_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text, 'member'::text]) AS user_has_tenant_role))"
      },
      {
        "name": "members_update_locations",
        "roles": ["authenticated"],
        "command": "UPDATE",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text, 'member'::text]) AS user_has_tenant_role))",
        "with_check_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text, 'member'::text]) AS user_has_tenant_role))"
      },
      {
        "name": "admins_delete_locations",
        "roles": ["authenticated"],
        "command": "DELETE",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text]) AS user_has_tenant_role))",
        "with_check_expression": null
      }
    ]
  },
  {
    "section": "public.locations",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.locations_with_oauth",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "google_place_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "address",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "status",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "has_oauth",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "oauth_valid",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "public.locations_with_oauth",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": []
  },
  {
    "section": "public.locations_with_oauth",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": []
  },
  {
    "section": "public.locations_with_oauth",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "public.locations_with_oauth",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.notification_preferences",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "user_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "email_new_reviews",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "true",
        "comment": null
      },
      {
        "position": 5,
        "name": "email_response_approved",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "true",
        "comment": null
      },
      {
        "position": 6,
        "name": "email_response_rejected",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "true",
        "comment": null
      },
      {
        "position": 7,
        "name": "email_daily_summary",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 8,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "now()",
        "comment": null
      },
      {
        "position": 9,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "public.notification_preferences",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "2200_202653_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "user_id IS NOT NULL"
      },
      {
        "name": "notification_preferences_user_id_fkey",
        "type": "FOREIGN KEY",
        "column": "user_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "notification_preferences_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "notification_preferences_user_id_tenant_id_key",
        "type": "UNIQUE",
        "column": "user_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "notification_preferences_user_id_tenant_id_key",
        "type": "UNIQUE",
        "column": "user_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "notification_preferences_user_id_tenant_id_key",
        "type": "UNIQUE",
        "column": "tenant_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_202653_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "tenant_id IS NOT NULL"
      },
      {
        "name": "2200_202653_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "notification_preferences_user_id_tenant_id_key",
        "type": "UNIQUE",
        "column": "tenant_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "public.notification_preferences",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "notification_preferences_pkey",
        "definition": "CREATE UNIQUE INDEX notification_preferences_pkey ON public.notification_preferences USING btree (id)"
      },
      {
        "name": "notification_preferences_user_id_tenant_id_key",
        "definition": "CREATE UNIQUE INDEX notification_preferences_user_id_tenant_id_key ON public.notification_preferences USING btree (user_id, tenant_id)"
      },
      {
        "name": "idx_notification_preferences_user",
        "definition": "CREATE INDEX idx_notification_preferences_user ON public.notification_preferences USING btree (user_id)"
      }
    ]
  },
  {
    "section": "public.notification_preferences",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "service_role_notification_prefs_all",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      },
      {
        "name": "users_manage_own_notification_prefs",
        "roles": ["authenticated"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "(user_id = ( SELECT auth.uid() AS uid))",
        "with_check_expression": "(user_id = ( SELECT auth.uid() AS uid))"
      }
    ]
  },
  {
    "section": "public.notification_preferences",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.oauth_tokens",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "user_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "provider",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "provider_scope",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "encrypted_access_token",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "encrypted_refresh_token",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "expires_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "status",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'active'::text",
        "comment": null
      },
      {
        "position": 10,
        "name": "refresh_attempts",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "NO",
        "default": "0",
        "comment": null
      },
      {
        "position": 11,
        "name": "last_refresh_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 12,
        "name": "last_refresh_error",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 13,
        "name": "last_used_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 14,
        "name": "token_metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 15,
        "name": "provider_user_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 16,
        "name": "provider_user_email",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 17,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 18,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 19,
        "name": "created_by",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 20,
        "name": "needs_refresh",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      }
    ]
  },
  {
    "section": "public.oauth_tokens",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "oauth_tokens_tenant_provider_scope_unique",
        "type": "UNIQUE",
        "column": "provider",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "oauth_tokens_tenant_provider_scope_unique",
        "type": "UNIQUE",
        "column": "provider",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "oauth_tokens_tenant_provider_scope_unique",
        "type": "UNIQUE",
        "column": "provider",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "oauth_tokens_tenant_provider_scope_unique",
        "type": "UNIQUE",
        "column": "provider_scope",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "oauth_tokens_tenant_provider_scope_unique",
        "type": "UNIQUE",
        "column": "provider_scope",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "oauth_tokens_tenant_provider_scope_unique",
        "type": "UNIQUE",
        "column": "provider_scope",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "oauth_tokens_tenant_id_fkey",
        "type": "FOREIGN KEY",
        "column": "tenant_id",
        "referenced_table": "tenants",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "oauth_tokens_user_id_fkey",
        "type": "FOREIGN KEY",
        "column": "user_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "oauth_tokens_created_by_fkey",
        "type": "FOREIGN KEY",
        "column": "created_by",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_241924_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "provider_scope IS NOT NULL"
      },
      {
        "name": "2200_241924_17_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "2200_241924_14_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "token_metadata IS NOT NULL"
      },
      {
        "name": "2200_241924_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "oauth_tokens_status_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((status = ANY (ARRAY['active'::text, 'expired'::text, 'revoked'::text, 'refresh_failed'::text, 'pending'::text])))"
      },
      {
        "name": "2200_241924_9_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "status IS NOT NULL"
      },
      {
        "name": "2200_241924_8_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "expires_at IS NOT NULL"
      },
      {
        "name": "2200_241924_10_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "refresh_attempts IS NOT NULL"
      },
      {
        "name": "2200_241924_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "provider IS NOT NULL"
      },
      {
        "name": "oauth_tokens_refresh_attempts_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((refresh_attempts >= 0) AND (refresh_attempts <= 10)))"
      },
      {
        "name": "2200_241924_6_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "encrypted_access_token IS NOT NULL"
      },
      {
        "name": "2200_241924_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "tenant_id IS NOT NULL"
      },
      {
        "name": "oauth_tokens_provider_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((provider = ANY (ARRAY['google'::text, 'facebook'::text, 'yelp'::text, 'tripadvisor'::text, 'trustpilot'::text])))"
      },
      {
        "name": "2200_241924_18_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "updated_at IS NOT NULL"
      },
      {
        "name": "oauth_tokens_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "oauth_tokens_tenant_provider_scope_unique",
        "type": "UNIQUE",
        "column": "tenant_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "oauth_tokens_tenant_provider_scope_unique",
        "type": "UNIQUE",
        "column": "tenant_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "oauth_tokens_tenant_provider_scope_unique",
        "type": "UNIQUE",
        "column": "tenant_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "public.oauth_tokens",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "idx_oauth_tokens_refresh_check",
        "definition": "CREATE INDEX idx_oauth_tokens_refresh_check ON public.oauth_tokens USING btree (provider, provider_scope, status, expires_at, last_refresh_at) WHERE ((provider = 'google'::text) AND (status = 'active'::text))"
      },
      {
        "name": "oauth_tokens_pkey",
        "definition": "CREATE UNIQUE INDEX oauth_tokens_pkey ON public.oauth_tokens USING btree (id)"
      },
      {
        "name": "oauth_tokens_tenant_provider_scope_unique",
        "definition": "CREATE UNIQUE INDEX oauth_tokens_tenant_provider_scope_unique ON public.oauth_tokens USING btree (tenant_id, provider, provider_scope)"
      },
      {
        "name": "idx_oauth_tokens_tenant_id",
        "definition": "CREATE INDEX idx_oauth_tokens_tenant_id ON public.oauth_tokens USING btree (tenant_id)"
      },
      {
        "name": "idx_oauth_tokens_provider",
        "definition": "CREATE INDEX idx_oauth_tokens_provider ON public.oauth_tokens USING btree (provider, status)"
      },
      {
        "name": "idx_oauth_tokens_expires_at",
        "definition": "CREATE INDEX idx_oauth_tokens_expires_at ON public.oauth_tokens USING btree (expires_at, status) WHERE (status = 'active'::text)"
      },
      {
        "name": "idx_oauth_tokens_refresh_needed",
        "definition": "CREATE INDEX idx_oauth_tokens_refresh_needed ON public.oauth_tokens USING btree (expires_at, refresh_attempts) WHERE ((status = 'active'::text) AND (encrypted_refresh_token IS NOT NULL))"
      },
      {
        "name": "idx_oauth_tokens_user_id",
        "definition": "CREATE INDEX idx_oauth_tokens_user_id ON public.oauth_tokens USING btree (user_id) WHERE (user_id IS NOT NULL)"
      }
    ]
  },
  {
    "section": "public.oauth_tokens",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "public.oauth_tokens",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": [
      {
        "name": "oauth_tokens_updated_at_trigger",
        "event": "UPDATE",
        "timing": "BEFORE",
        "statement": "EXECUTE FUNCTION update_oauth_tokens_updated_at()"
      }
    ]
  },
  {
    "section": "public.performance_metrics",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "metric_name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "metric_type",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "value",
        "type": "numeric",
        "max_length": null,
        "precision": 15,
        "scale": 6,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "unit",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "service",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "endpoint",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "method",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "status_code",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 11,
        "name": "tags",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 12,
        "name": "period_start",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 13,
        "name": "period_end",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 14,
        "name": "sample_count",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "1",
        "comment": null
      },
      {
        "position": 15,
        "name": "min_value",
        "type": "numeric",
        "max_length": null,
        "precision": 15,
        "scale": 6,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 16,
        "name": "max_value",
        "type": "numeric",
        "max_length": null,
        "precision": 15,
        "scale": 6,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 17,
        "name": "avg_value",
        "type": "numeric",
        "max_length": null,
        "precision": 15,
        "scale": 6,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 18,
        "name": "p50_value",
        "type": "numeric",
        "max_length": null,
        "precision": 15,
        "scale": 6,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 19,
        "name": "p95_value",
        "type": "numeric",
        "max_length": null,
        "precision": 15,
        "scale": 6,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 20,
        "name": "p99_value",
        "type": "numeric",
        "max_length": null,
        "precision": 15,
        "scale": 6,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 21,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 22,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "public.performance_metrics",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "valid_period",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((period_end > period_start))"
      },
      {
        "name": "valid_period",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((period_end >= period_start))"
      },
      {
        "name": "valid_period",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((period_end > period_start))"
      },
      {
        "name": "valid_period",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((period_end >= period_start))"
      },
      {
        "name": "valid_period",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((period_end >= period_start))"
      },
      {
        "name": "2200_217845_22_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "2200_217845_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "2200_217845_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metric_type IS NOT NULL"
      },
      {
        "name": "valid_period",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((period_end >= period_start))"
      },
      {
        "name": "valid_period",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((period_end > period_start))"
      },
      {
        "name": "2200_217845_13_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "period_end IS NOT NULL"
      },
      {
        "name": "2200_217845_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "value IS NOT NULL"
      },
      {
        "name": "2200_217845_21_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      },
      {
        "name": "performance_metrics_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "performance_metrics_tenant_id_fkey",
        "type": "FOREIGN KEY",
        "column": "tenant_id",
        "referenced_table": "tenants",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "2200_217845_12_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "period_start IS NOT NULL"
      },
      {
        "name": "performance_metrics_metric_type_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((metric_type = ANY (ARRAY['counter'::text, 'gauge'::text, 'histogram'::text, 'timer'::text])))"
      },
      {
        "name": "valid_period",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((period_end > period_start))"
      },
      {
        "name": "2200_217845_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metric_name IS NOT NULL"
      }
    ]
  },
  {
    "section": "public.performance_metrics",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "performance_metrics_pkey",
        "definition": "CREATE UNIQUE INDEX performance_metrics_pkey ON public.performance_metrics USING btree (id)"
      }
    ]
  },
  {
    "section": "public.performance_metrics",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "service_role_metrics_all",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      },
      {
        "name": "tenants_view_metrics",
        "roles": ["authenticated"],
        "command": "SELECT",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.get_user_active_tenants() AS get_user_active_tenants))",
        "with_check_expression": null
      }
    ]
  },
  {
    "section": "public.performance_metrics",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.profiles",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "email",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "full_name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "avatar_url",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "phone",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "preferred_language",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'en'::text",
        "comment": null
      },
      {
        "position": 7,
        "name": "timezone",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'UTC'::text",
        "comment": null
      },
      {
        "position": 8,
        "name": "notification_preferences",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{\"sms\": {\"system\": false, \"reviews\": false, \"responses\": false}, \"push\": {\"system\": true, \"reviews\": true, \"responses\": true}, \"email\": {\"system\": true, \"reviews\": true, \"responses\": true}}'::jsonb",
        "comment": null
      },
      {
        "position": 9,
        "name": "settings",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 10,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 11,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 12,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 13,
        "name": "last_active_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 14,
        "name": "deleted_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "public.profiles",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "2200_217174_13_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "last_active_at IS NOT NULL"
      },
      {
        "name": "2200_217174_10_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      },
      {
        "name": "valid_email",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((email ~* '^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$'::text))"
      },
      {
        "name": "2200_217174_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "email IS NOT NULL"
      },
      {
        "name": "2200_217174_12_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "updated_at IS NOT NULL"
      },
      {
        "name": "2200_217174_11_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "2200_217174_9_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "settings IS NOT NULL"
      },
      {
        "name": "2200_217174_8_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "notification_preferences IS NOT NULL"
      },
      {
        "name": "2200_217174_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "profiles_id_fkey",
        "type": "FOREIGN KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "profiles_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "profiles_email_key",
        "type": "UNIQUE",
        "column": "email",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "public.profiles",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "profiles_pkey",
        "definition": "CREATE UNIQUE INDEX profiles_pkey ON public.profiles USING btree (id)"
      },
      {
        "name": "profiles_email_key",
        "definition": "CREATE UNIQUE INDEX profiles_email_key ON public.profiles USING btree (email)"
      }
    ]
  },
  {
    "section": "public.profiles",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "service_role_profiles_all",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      },
      {
        "name": "users_view_own_profile",
        "roles": ["authenticated"],
        "command": "SELECT",
        "permissive": "PERMISSIVE",
        "using_expression": "(id = ( SELECT auth.uid() AS uid))",
        "with_check_expression": null
      },
      {
        "name": "users_update_own_profile",
        "roles": ["authenticated"],
        "command": "UPDATE",
        "permissive": "PERMISSIVE",
        "using_expression": "(id = ( SELECT auth.uid() AS uid))",
        "with_check_expression": "(id = ( SELECT auth.uid() AS uid))"
      },
      {
        "name": "users_insert_own_profile",
        "roles": ["authenticated"],
        "command": "INSERT",
        "permissive": "PERMISSIVE",
        "using_expression": null,
        "with_check_expression": "(id = ( SELECT auth.uid() AS uid))"
      }
    ]
  },
  {
    "section": "public.profiles",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.response_analytics",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "location_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "period_start",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "period_end",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "period_type",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "total_reviews",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 8,
        "name": "total_responses",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 9,
        "name": "response_rate",
        "type": "numeric",
        "max_length": null,
        "precision": 5,
        "scale": 4,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "avg_response_time",
        "type": "interval",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 11,
        "name": "avg_generation_time",
        "type": "interval",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 12,
        "name": "avg_confidence_score",
        "type": "numeric",
        "max_length": null,
        "precision": 5,
        "scale": 4,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 13,
        "name": "avg_quality_score",
        "type": "numeric",
        "max_length": null,
        "precision": 5,
        "scale": 4,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 14,
        "name": "approval_rate",
        "type": "numeric",
        "max_length": null,
        "precision": 5,
        "scale": 4,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 15,
        "name": "rejection_rate",
        "type": "numeric",
        "max_length": null,
        "precision": 5,
        "scale": 4,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 16,
        "name": "total_generation_cost",
        "type": "numeric",
        "max_length": null,
        "precision": 10,
        "scale": 6,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 17,
        "name": "avg_generation_cost",
        "type": "numeric",
        "max_length": null,
        "precision": 10,
        "scale": 6,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 18,
        "name": "total_tokens",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 19,
        "name": "platform_metrics",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 20,
        "name": "positive_reviews",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 21,
        "name": "neutral_reviews",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 22,
        "name": "negative_reviews",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 23,
        "name": "avg_sentiment_score",
        "type": "numeric",
        "max_length": null,
        "precision": 5,
        "scale": 4,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 24,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 25,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 26,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "public.response_analytics",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "2200_217527_25_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "response_analytics_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_analytics_tenant_id_location_id_period_start_perio_key",
        "type": "UNIQUE",
        "column": "tenant_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_analytics_tenant_id_location_id_period_start_perio_key",
        "type": "UNIQUE",
        "column": "tenant_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_analytics_tenant_id_location_id_period_start_perio_key",
        "type": "UNIQUE",
        "column": "tenant_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_analytics_tenant_id_location_id_period_start_perio_key",
        "type": "UNIQUE",
        "column": "tenant_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_analytics_tenant_id_location_id_period_start_perio_key",
        "type": "UNIQUE",
        "column": "location_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_analytics_tenant_id_location_id_period_start_perio_key",
        "type": "UNIQUE",
        "column": "location_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_analytics_tenant_id_location_id_period_start_perio_key",
        "type": "UNIQUE",
        "column": "location_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_analytics_tenant_id_location_id_period_start_perio_key",
        "type": "UNIQUE",
        "column": "location_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_analytics_tenant_id_location_id_period_start_perio_key",
        "type": "UNIQUE",
        "column": "period_start",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_analytics_tenant_id_location_id_period_start_perio_key",
        "type": "UNIQUE",
        "column": "period_start",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_analytics_tenant_id_location_id_period_start_perio_key",
        "type": "UNIQUE",
        "column": "period_start",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_analytics_tenant_id_location_id_period_start_perio_key",
        "type": "UNIQUE",
        "column": "period_start",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_analytics_tenant_id_location_id_period_start_perio_key",
        "type": "UNIQUE",
        "column": "period_type",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_analytics_tenant_id_location_id_period_start_perio_key",
        "type": "UNIQUE",
        "column": "period_type",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_analytics_tenant_id_location_id_period_start_perio_key",
        "type": "UNIQUE",
        "column": "period_type",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_analytics_tenant_id_location_id_period_start_perio_key",
        "type": "UNIQUE",
        "column": "period_type",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_analytics_tenant_id_fkey",
        "type": "FOREIGN KEY",
        "column": "tenant_id",
        "referenced_table": "tenants",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "response_analytics_location_id_fkey",
        "type": "FOREIGN KEY",
        "column": "location_id",
        "referenced_table": "locations",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "2200_217527_6_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "period_type IS NOT NULL"
      },
      {
        "name": "valid_period",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((period_end >= period_start))"
      },
      {
        "name": "valid_period",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((period_end >= period_start))"
      },
      {
        "name": "valid_period",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((period_end >= period_start))"
      },
      {
        "name": "valid_period",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((period_end >= period_start))"
      },
      {
        "name": "valid_period",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((period_end > period_start))"
      },
      {
        "name": "valid_period",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((period_end > period_start))"
      },
      {
        "name": "valid_period",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((period_end > period_start))"
      },
      {
        "name": "valid_period",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((period_end > period_start))"
      },
      {
        "name": "response_analytics_period_type_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((period_type = ANY (ARRAY['hourly'::text, 'daily'::text, 'weekly'::text, 'monthly'::text])))"
      },
      {
        "name": "2200_217527_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "tenant_id IS NOT NULL"
      },
      {
        "name": "2200_217527_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "period_end IS NOT NULL"
      },
      {
        "name": "2200_217527_26_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "updated_at IS NOT NULL"
      },
      {
        "name": "2200_217527_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "period_start IS NOT NULL"
      },
      {
        "name": "2200_217527_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "2200_217527_24_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      },
      {
        "name": "valid_rates",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((response_rate IS NULL) OR ((response_rate >= (0)::numeric) AND (response_rate <= (1)::numeric) AND (approval_rate IS NULL)) OR ((approval_rate >= (0)::numeric) AND (approval_rate <= (1)::numeric) AND (rejection_rate IS NULL)) OR ((rejection_rate >= (0)::numeric) AND (rejection_rate <= (1)::numeric))))"
      },
      {
        "name": "valid_rates",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((response_rate IS NULL) OR ((response_rate >= (0)::numeric) AND (response_rate <= (1)::numeric) AND (approval_rate IS NULL)) OR ((approval_rate >= (0)::numeric) AND (approval_rate <= (1)::numeric) AND (rejection_rate IS NULL)) OR ((rejection_rate >= (0)::numeric) AND (rejection_rate <= (1)::numeric))))"
      },
      {
        "name": "valid_rates",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((response_rate IS NULL) OR ((response_rate >= (0)::numeric) AND (response_rate <= (1)::numeric) AND (approval_rate IS NULL)) OR ((approval_rate >= (0)::numeric) AND (approval_rate <= (1)::numeric) AND (rejection_rate IS NULL)) OR ((rejection_rate >= (0)::numeric) AND (rejection_rate <= (1)::numeric))))"
      }
    ]
  },
  {
    "section": "public.response_analytics",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "response_analytics_pkey",
        "definition": "CREATE UNIQUE INDEX response_analytics_pkey ON public.response_analytics USING btree (id)"
      },
      {
        "name": "response_analytics_tenant_id_location_id_period_start_perio_key",
        "definition": "CREATE UNIQUE INDEX response_analytics_tenant_id_location_id_period_start_perio_key ON public.response_analytics USING btree (tenant_id, location_id, period_start, period_type)"
      }
    ]
  },
  {
    "section": "public.response_analytics",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "service_role_analytics_all",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      },
      {
        "name": "tenants_view_analytics",
        "roles": ["authenticated"],
        "command": "SELECT",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.get_user_active_tenants() AS get_user_active_tenants))",
        "with_check_expression": null
      }
    ]
  },
  {
    "section": "public.response_analytics",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.response_queue",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "response_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "location_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "status",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'pending'::text",
        "comment": null
      },
      {
        "position": 6,
        "name": "priority",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "50",
        "comment": null
      },
      {
        "position": 7,
        "name": "scheduled_for",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "now()",
        "comment": null
      },
      {
        "position": 8,
        "name": "platform",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "platform_rate_limit",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "last_platform_request_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 11,
        "name": "attempt_count",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 12,
        "name": "max_attempts",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "3",
        "comment": null
      },
      {
        "position": 13,
        "name": "last_attempt_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 14,
        "name": "next_retry_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 15,
        "name": "error_message",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 16,
        "name": "error_code",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 17,
        "name": "error_details",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 18,
        "name": "processing_started_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 19,
        "name": "processing_completed_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 20,
        "name": "processed_by",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 21,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 22,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 23,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "public.response_queue",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "valid_retry",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((status <> 'failed'::text) OR (next_retry_at IS NOT NULL) OR (attempt_count >= max_attempts)))"
      },
      {
        "name": "2200_217458_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "location_id IS NOT NULL"
      },
      {
        "name": "response_queue_location_id_fkey",
        "type": "FOREIGN KEY",
        "column": "location_id",
        "referenced_table": "locations",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "2200_217458_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "valid_retry",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((status <> 'failed'::text) OR (next_retry_at IS NOT NULL) OR (attempt_count >= max_attempts)))"
      },
      {
        "name": "2200_217458_21_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      },
      {
        "name": "2200_217458_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "tenant_id IS NOT NULL"
      },
      {
        "name": "response_queue_response_id_fkey",
        "type": "FOREIGN KEY",
        "column": "response_id",
        "referenced_table": "ai_responses",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "response_queue_tenant_id_fkey",
        "type": "FOREIGN KEY",
        "column": "tenant_id",
        "referenced_table": "tenants",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "response_queue_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217458_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "response_id IS NOT NULL"
      },
      {
        "name": "response_queue_status_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((status = ANY (ARRAY['pending'::text, 'processing'::text, 'published'::text, 'failed'::text, 'cancelled'::text])))"
      },
      {
        "name": "valid_retry",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((status <> 'failed'::text) OR (next_retry_at IS NOT NULL) OR (attempt_count >= max_attempts)))"
      },
      {
        "name": "response_queue_priority_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((priority >= 0) AND (priority <= 100)))"
      },
      {
        "name": "2200_217458_22_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "valid_retry",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((status <> 'failed'::text) OR (next_retry_at IS NOT NULL) OR (attempt_count >= max_attempts)))"
      },
      {
        "name": "2200_217458_23_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "updated_at IS NOT NULL"
      },
      {
        "name": "2200_217458_8_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "platform IS NOT NULL"
      }
    ]
  },
  {
    "section": "public.response_queue",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "idx_response_queue_tenant_status",
        "definition": "CREATE INDEX idx_response_queue_tenant_status ON public.response_queue USING btree (tenant_id, status)"
      },
      {
        "name": "idx_response_queue_response_id",
        "definition": "CREATE INDEX idx_response_queue_response_id ON public.response_queue USING btree (response_id)"
      },
      {
        "name": "response_queue_pkey",
        "definition": "CREATE UNIQUE INDEX response_queue_pkey ON public.response_queue USING btree (id)"
      },
      {
        "name": "idx_response_queue_processing",
        "definition": "CREATE INDEX idx_response_queue_processing ON public.response_queue USING btree (status, scheduled_for, priority DESC) WHERE (status = ANY (ARRAY['pending'::text, 'processing'::text]))"
      },
      {
        "name": "idx_response_queue_retry_logic",
        "definition": "CREATE INDEX idx_response_queue_retry_logic ON public.response_queue USING btree (status, attempt_count, max_attempts, last_platform_request_at) WHERE (status = 'pending'::text)"
      },
      {
        "name": "idx_response_queue_failed_cleanup",
        "definition": "CREATE INDEX idx_response_queue_failed_cleanup ON public.response_queue USING btree (status, updated_at) WHERE (status = 'failed'::text)"
      }
    ]
  },
  {
    "section": "public.response_queue",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "public.response_queue",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.response_settings",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "location_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "auto_publish_enabled",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 5,
        "name": "auto_publish_positive",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 6,
        "name": "auto_publish_neutral",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 7,
        "name": "auto_publish_negative",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 8,
        "name": "min_confidence_score",
        "type": "numeric",
        "max_length": null,
        "precision": 5,
        "scale": 4,
        "nullable": "YES",
        "default": "0.8",
        "comment": null
      },
      {
        "position": 9,
        "name": "min_quality_score",
        "type": "numeric",
        "max_length": null,
        "precision": 5,
        "scale": 4,
        "nullable": "YES",
        "default": "0.7",
        "comment": null
      },
      {
        "position": 10,
        "name": "require_human_review_below_threshold",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "true",
        "comment": null
      },
      {
        "position": 11,
        "name": "max_response_length",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "500",
        "comment": null
      },
      {
        "position": 12,
        "name": "require_personalization",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "true",
        "comment": null
      },
      {
        "position": 13,
        "name": "include_business_name",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "true",
        "comment": null
      },
      {
        "position": 14,
        "name": "include_upsell",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 15,
        "name": "platform_settings",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 16,
        "name": "rate_limits",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 17,
        "name": "notify_on_auto_publish",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "true",
        "comment": null
      },
      {
        "position": 18,
        "name": "notify_on_review_threshold",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "true",
        "comment": null
      },
      {
        "position": 19,
        "name": "notification_recipients",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 20,
        "name": "working_hours_only",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 21,
        "name": "working_hours",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 22,
        "name": "excluded_keywords",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 23,
        "name": "settings",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 24,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 25,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 26,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "public.response_settings",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "response_settings_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_settings_tenant_id_location_id_key",
        "type": "UNIQUE",
        "column": "tenant_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217738_26_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "updated_at IS NOT NULL"
      },
      {
        "name": "valid_quality_score",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((min_quality_score >= (0)::numeric) AND (min_quality_score <= (1)::numeric)))"
      },
      {
        "name": "2200_217738_23_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "settings IS NOT NULL"
      },
      {
        "name": "2200_217738_25_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "valid_confidence_score",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((min_confidence_score >= (0)::numeric) AND (min_confidence_score <= (1)::numeric)))"
      },
      {
        "name": "response_settings_location_id_fkey",
        "type": "FOREIGN KEY",
        "column": "location_id",
        "referenced_table": "locations",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "2200_217738_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "tenant_id IS NOT NULL"
      },
      {
        "name": "2200_217738_24_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      },
      {
        "name": "response_settings_tenant_id_fkey",
        "type": "FOREIGN KEY",
        "column": "tenant_id",
        "referenced_table": "tenants",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "2200_217738_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "response_settings_tenant_id_location_id_key",
        "type": "UNIQUE",
        "column": "location_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_settings_tenant_id_location_id_key",
        "type": "UNIQUE",
        "column": "location_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_settings_tenant_id_location_id_key",
        "type": "UNIQUE",
        "column": "tenant_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "public.response_settings",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "response_settings_pkey",
        "definition": "CREATE UNIQUE INDEX response_settings_pkey ON public.response_settings USING btree (id)"
      },
      {
        "name": "response_settings_tenant_id_location_id_key",
        "definition": "CREATE UNIQUE INDEX response_settings_tenant_id_location_id_key ON public.response_settings USING btree (tenant_id, location_id)"
      }
    ]
  },
  {
    "section": "public.response_settings",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "service_role_response_settings_all",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      },
      {
        "name": "tenants_view_response_settings",
        "roles": ["authenticated"],
        "command": "SELECT",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.get_user_active_tenants() AS get_user_active_tenants))",
        "with_check_expression": null
      },
      {
        "name": "admins_manage_response_settings",
        "roles": ["authenticated"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text]) AS user_has_tenant_role))",
        "with_check_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text]) AS user_has_tenant_role))"
      }
    ]
  },
  {
    "section": "public.response_settings",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.response_templates",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "description",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "category",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "template_text",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "template_language",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'en'::text",
        "comment": null
      },
      {
        "position": 8,
        "name": "variables",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'[]'::jsonb",
        "comment": null
      },
      {
        "position": 9,
        "name": "rating_range",
        "type": "int4range",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "keywords",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 11,
        "name": "sentiment_range",
        "type": "numrange",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 12,
        "name": "platforms",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 13,
        "name": "usage_count",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 14,
        "name": "success_rate",
        "type": "numeric",
        "max_length": null,
        "precision": 5,
        "scale": 4,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 15,
        "name": "avg_response_time",
        "type": "interval",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 16,
        "name": "status",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'active'::text",
        "comment": null
      },
      {
        "position": 17,
        "name": "is_default",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 18,
        "name": "priority",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "50",
        "comment": null
      },
      {
        "position": 19,
        "name": "created_by",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 20,
        "name": "last_modified_by",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 21,
        "name": "settings",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 22,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 23,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 24,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 25,
        "name": "deleted_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "public.response_templates",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "response_templates_priority_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((priority >= 0) AND (priority <= 100)))"
      },
      {
        "name": "2200_217416_6_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "template_text IS NOT NULL"
      },
      {
        "name": "2200_217416_24_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "updated_at IS NOT NULL"
      },
      {
        "name": "response_templates_last_modified_by_fkey",
        "type": "FOREIGN KEY",
        "column": "last_modified_by",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_templates_tenant_id_name_key",
        "type": "UNIQUE",
        "column": "name",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217416_22_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      },
      {
        "name": "2200_217416_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "tenant_id IS NOT NULL"
      },
      {
        "name": "response_templates_tenant_id_fkey",
        "type": "FOREIGN KEY",
        "column": "tenant_id",
        "referenced_table": "tenants",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "2200_217416_23_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "response_templates_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_templates_created_by_fkey",
        "type": "FOREIGN KEY",
        "column": "created_by",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_templates_tenant_id_name_key",
        "type": "UNIQUE",
        "column": "tenant_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "response_templates_tenant_id_name_key",
        "type": "UNIQUE",
        "column": "tenant_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217416_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "name IS NOT NULL"
      },
      {
        "name": "2200_217416_21_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "settings IS NOT NULL"
      },
      {
        "name": "2200_217416_19_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_by IS NOT NULL"
      },
      {
        "name": "response_templates_status_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((status = ANY (ARRAY['active'::text, 'inactive'::text, 'draft'::text, 'archived'::text])))"
      },
      {
        "name": "2200_217416_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "response_templates_tenant_id_name_key",
        "type": "UNIQUE",
        "column": "name",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "public.response_templates",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "response_templates_pkey",
        "definition": "CREATE UNIQUE INDEX response_templates_pkey ON public.response_templates USING btree (id)"
      },
      {
        "name": "response_templates_tenant_id_name_key",
        "definition": "CREATE UNIQUE INDEX response_templates_tenant_id_name_key ON public.response_templates USING btree (tenant_id, name)"
      }
    ]
  },
  {
    "section": "public.response_templates",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "service_role_response_templates_all",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      },
      {
        "name": "tenants_view_templates",
        "roles": ["authenticated"],
        "command": "SELECT",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.get_user_active_tenants() AS get_user_active_tenants))",
        "with_check_expression": null
      },
      {
        "name": "members_manage_templates",
        "roles": ["authenticated"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text, 'member'::text]) AS user_has_tenant_role))",
        "with_check_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text, 'member'::text]) AS user_has_tenant_role))"
      }
    ]
  },
  {
    "section": "public.response_templates",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.reviews",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "location_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "platform",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "platform_review_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "platform_reviewer_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "reviewer_name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "reviewer_avatar_url",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "rating",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "review_text",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 11,
        "name": "review_language",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'en'::text",
        "comment": null
      },
      {
        "position": 12,
        "name": "sentiment_score",
        "type": "numeric",
        "max_length": null,
        "precision": 5,
        "scale": 4,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 13,
        "name": "sentiment_label",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 14,
        "name": "keywords",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 15,
        "name": "topics",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 16,
        "name": "confidence_score",
        "type": "numeric",
        "max_length": null,
        "precision": 5,
        "scale": 4,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 17,
        "name": "review_date",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 18,
        "name": "response_deadline",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 19,
        "name": "priority_score",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "50",
        "comment": null
      },
      {
        "position": 20,
        "name": "is_verified",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 21,
        "name": "is_local_guide",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 22,
        "name": "reviewer_review_count",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 23,
        "name": "status",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'new'::text",
        "comment": null
      },
      {
        "position": 24,
        "name": "needs_response",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "true",
        "comment": null
      },
      {
        "position": 25,
        "name": "is_flagged",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 26,
        "name": "flagged_reason",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 27,
        "name": "platform_data",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 28,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 29,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 30,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 31,
        "name": "deleted_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 32,
        "name": "reviewer_is_anonymous",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 33,
        "name": "review_updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 34,
        "name": "is_review_edited",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 35,
        "name": "review_url",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 36,
        "name": "response_source",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 37,
        "name": "external_response_date",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 38,
        "name": "has_owner_reply",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 39,
        "name": "owner_reply_text",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 40,
        "name": "owner_reply_date",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "public.reviews",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "2200_217329_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "tenant_id IS NOT NULL"
      },
      {
        "name": "2200_217329_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "location_id IS NOT NULL"
      },
      {
        "name": "reviews_sentiment_label_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((sentiment_label = ANY (ARRAY['positive'::text, 'neutral'::text, 'negative'::text])))"
      },
      {
        "name": "2200_217329_29_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "2200_217329_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "platform IS NOT NULL"
      },
      {
        "name": "2200_217329_9_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "rating IS NOT NULL"
      },
      {
        "name": "reviews_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "reviews_platform_platform_review_id_location_id_key",
        "type": "UNIQUE",
        "column": "platform",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "reviews_platform_platform_review_id_location_id_key",
        "type": "UNIQUE",
        "column": "platform",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "reviews_platform_platform_review_id_location_id_key",
        "type": "UNIQUE",
        "column": "platform",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "reviews_platform_platform_review_id_location_id_key",
        "type": "UNIQUE",
        "column": "platform_review_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "reviews_platform_platform_review_id_location_id_key",
        "type": "UNIQUE",
        "column": "platform_review_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217329_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "reviews_platform_platform_review_id_location_id_key",
        "type": "UNIQUE",
        "column": "platform_review_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "reviews_platform_platform_review_id_location_id_key",
        "type": "UNIQUE",
        "column": "location_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "reviews_platform_platform_review_id_location_id_key",
        "type": "UNIQUE",
        "column": "location_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "reviews_platform_platform_review_id_location_id_key",
        "type": "UNIQUE",
        "column": "location_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "reviews_tenant_id_fkey",
        "type": "FOREIGN KEY",
        "column": "tenant_id",
        "referenced_table": "tenants",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "reviews_location_id_fkey",
        "type": "FOREIGN KEY",
        "column": "location_id",
        "referenced_table": "locations",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "reviews_confidence_score_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((confidence_score >= (0)::numeric) AND (confidence_score <= (1)::numeric)))"
      },
      {
        "name": "valid_flagged",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((((is_flagged = false) AND (flagged_reason IS NULL)) OR ((is_flagged = true) AND (flagged_reason IS NOT NULL))))"
      },
      {
        "name": "reviews_rating_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((rating >= 1) AND (rating <= 5)))"
      },
      {
        "name": "valid_flagged",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((((is_flagged = false) AND (flagged_reason IS NULL)) OR ((is_flagged = true) AND (flagged_reason IS NOT NULL))))"
      },
      {
        "name": "2200_217329_28_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      },
      {
        "name": "2200_217329_17_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "review_date IS NOT NULL"
      },
      {
        "name": "2200_217329_27_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "platform_data IS NOT NULL"
      },
      {
        "name": "2200_217329_30_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "updated_at IS NOT NULL"
      },
      {
        "name": "reviews_response_source_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((response_source IS NULL) OR (response_source = ANY (ARRAY['ai'::text, 'owner_external'::text, 'manual'::text]))))"
      },
      {
        "name": "2200_217329_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "platform_review_id IS NOT NULL"
      },
      {
        "name": "reviews_sentiment_score_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((sentiment_score >= ('-1'::integer)::numeric) AND (sentiment_score <= (1)::numeric)))"
      },
      {
        "name": "reviews_platform_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((platform = ANY (ARRAY['google'::text, 'facebook'::text, 'yelp'::text, 'tripadvisor'::text, 'trustpilot'::text, 'manual'::text])))"
      },
      {
        "name": "reviews_priority_score_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((priority_score >= 0) AND (priority_score <= 100)))"
      },
      {
        "name": "reviews_status_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((status = ANY (ARRAY['new'::text, 'processing'::text, 'responded'::text, 'ignored'::text, 'flagged'::text])))"
      }
    ]
  },
  {
    "section": "public.reviews",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "reviews_pkey",
        "definition": "CREATE UNIQUE INDEX reviews_pkey ON public.reviews USING btree (id)"
      },
      {
        "name": "reviews_platform_platform_review_id_location_id_key",
        "definition": "CREATE UNIQUE INDEX reviews_platform_platform_review_id_location_id_key ON public.reviews USING btree (platform, platform_review_id, location_id)"
      },
      {
        "name": "idx_reviews_has_owner_reply",
        "definition": "CREATE INDEX idx_reviews_has_owner_reply ON public.reviews USING btree (tenant_id, has_owner_reply, needs_response, status) WHERE (deleted_at IS NULL)"
      },
      {
        "name": "idx_reviews_response_source",
        "definition": "CREATE INDEX idx_reviews_response_source ON public.reviews USING btree (tenant_id, response_source, status) WHERE (deleted_at IS NULL)"
      },
      {
        "name": "idx_reviews_reviewer_anonymous",
        "definition": "CREATE INDEX idx_reviews_reviewer_anonymous ON public.reviews USING btree (tenant_id, reviewer_is_anonymous, rating) WHERE (deleted_at IS NULL)"
      },
      {
        "name": "idx_reviews_edited",
        "definition": "CREATE INDEX idx_reviews_edited ON public.reviews USING btree (tenant_id, is_review_edited, review_updated_at) WHERE ((deleted_at IS NULL) AND (is_review_edited = true))"
      },
      {
        "name": "idx_reviews_tenant_id",
        "definition": "CREATE INDEX idx_reviews_tenant_id ON public.reviews USING btree (tenant_id)"
      },
      {
        "name": "idx_reviews_tenant_date",
        "definition": "CREATE INDEX idx_reviews_tenant_date ON public.reviews USING btree (tenant_id, review_date DESC)"
      },
      {
        "name": "idx_reviews_tenant",
        "definition": "CREATE INDEX idx_reviews_tenant ON public.reviews USING btree (tenant_id)"
      },
      {
        "name": "idx_reviews_needs_response",
        "definition": "CREATE INDEX idx_reviews_needs_response ON public.reviews USING btree (tenant_id, created_at) WHERE ((needs_response = true) AND (status = 'new'::text) AND (deleted_at IS NULL))"
      }
    ]
  },
  {
    "section": "public.reviews",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "public.reviews",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.system_config",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "NO",
        "default": "nextval('system_config_id_seq'::regclass)",
        "comment": null
      },
      {
        "position": 2,
        "name": "key_name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "key_value",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "now()",
        "comment": null
      },
      {
        "position": 5,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "public.system_config",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "system_config_key_name_key",
        "type": "UNIQUE",
        "column": "key_name",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "system_config_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_224369_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "key_value IS NOT NULL"
      },
      {
        "name": "2200_224369_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "2200_224369_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "key_name IS NOT NULL"
      }
    ]
  },
  {
    "section": "public.system_config",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "system_config_pkey",
        "definition": "CREATE UNIQUE INDEX system_config_pkey ON public.system_config USING btree (id)"
      },
      {
        "name": "system_config_key_name_key",
        "definition": "CREATE UNIQUE INDEX system_config_key_name_key ON public.system_config USING btree (key_name)"
      }
    ]
  },
  {
    "section": "public.system_config",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "public.system_config",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.system_health",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "component",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "instance_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "region",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "status",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "last_check_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 7,
        "name": "response_time_ms",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "cpu_usage_percent",
        "type": "numeric",
        "max_length": null,
        "precision": 5,
        "scale": 2,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "memory_usage_percent",
        "type": "numeric",
        "max_length": null,
        "precision": 5,
        "scale": 2,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "disk_usage_percent",
        "type": "numeric",
        "max_length": null,
        "precision": 5,
        "scale": 2,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 11,
        "name": "active_connections",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 12,
        "name": "queue_length",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 13,
        "name": "error_rate",
        "type": "numeric",
        "max_length": null,
        "precision": 5,
        "scale": 4,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 14,
        "name": "throughput",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 15,
        "name": "uptime_seconds",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 16,
        "name": "last_restart_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 17,
        "name": "health_check_data",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 18,
        "name": "error_message",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 19,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 20,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 21,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "public.system_health",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "2200_217896_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "status IS NOT NULL"
      },
      {
        "name": "system_health_status_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((status = ANY (ARRAY['healthy'::text, 'degraded'::text, 'unhealthy'::text, 'unknown'::text])))"
      },
      {
        "name": "2200_217896_20_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "2200_217896_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "system_health_component_instance_id_key",
        "type": "UNIQUE",
        "column": "instance_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217896_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "component IS NOT NULL"
      },
      {
        "name": "system_health_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "system_health_component_instance_id_key",
        "type": "UNIQUE",
        "column": "component",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "system_health_component_instance_id_key",
        "type": "UNIQUE",
        "column": "component",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "system_health_component_unique",
        "type": "UNIQUE",
        "column": "component",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217896_21_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "updated_at IS NOT NULL"
      },
      {
        "name": "2200_217896_6_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "last_check_at IS NOT NULL"
      },
      {
        "name": "system_health_component_instance_id_key",
        "type": "UNIQUE",
        "column": "instance_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217896_19_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      }
    ]
  },
  {
    "section": "public.system_health",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "system_health_pkey",
        "definition": "CREATE UNIQUE INDEX system_health_pkey ON public.system_health USING btree (id)"
      },
      {
        "name": "system_health_component_instance_id_key",
        "definition": "CREATE UNIQUE INDEX system_health_component_instance_id_key ON public.system_health USING btree (component, instance_id)"
      },
      {
        "name": "system_health_component_unique",
        "definition": "CREATE UNIQUE INDEX system_health_component_unique ON public.system_health USING btree (component)"
      }
    ]
  },
  {
    "section": "public.system_health",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "system_health_service_only",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "RESTRICTIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      }
    ]
  },
  {
    "section": "public.system_health",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.system_logs",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "category",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "log_level",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "message",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "details",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 7,
        "name": "user_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "session_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "request_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "correlation_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 11,
        "name": "source",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 12,
        "name": "environment",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'production'::text",
        "comment": null
      },
      {
        "position": 13,
        "name": "version",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 14,
        "name": "error_code",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 15,
        "name": "stack_trace",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 16,
        "name": "duration_ms",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 17,
        "name": "memory_usage_mb",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 18,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 19,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "public.system_logs",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "2200_217822_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "log_level IS NOT NULL"
      },
      {
        "name": "2200_217822_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "category IS NOT NULL"
      },
      {
        "name": "2200_217822_19_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "2200_217822_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "2200_217822_18_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      },
      {
        "name": "system_logs_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "system_logs_tenant_id_fkey",
        "type": "FOREIGN KEY",
        "column": "tenant_id",
        "referenced_table": "tenants",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "system_logs_log_level_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((log_level = ANY (ARRAY['debug'::text, 'info'::text, 'warn'::text, 'error'::text, 'fatal'::text])))"
      },
      {
        "name": "system_logs_user_id_fkey",
        "type": "FOREIGN KEY",
        "column": "user_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217822_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "message IS NOT NULL"
      }
    ]
  },
  {
    "section": "public.system_logs",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "system_logs_pkey",
        "definition": "CREATE UNIQUE INDEX system_logs_pkey ON public.system_logs USING btree (id)"
      },
      {
        "name": "idx_system_logs_cron",
        "definition": "CREATE INDEX idx_system_logs_cron ON public.system_logs USING btree (category, created_at, log_level) WHERE (category = 'cron_job'::text)"
      }
    ]
  },
  {
    "section": "public.system_logs",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "system_logs_service_only",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "RESTRICTIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      }
    ]
  },
  {
    "section": "public.system_logs",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.tenant_invitations",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "email",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "role",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "invited_by",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "invitation_token",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "encode(gen_random_bytes(32), 'hex'::text)",
        "comment": null
      },
      {
        "position": 7,
        "name": "message",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "assigned_locations",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'{}'::uuid[]",
        "comment": null
      },
      {
        "position": 9,
        "name": "permissions",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 10,
        "name": "status",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'pending'::text",
        "comment": null
      },
      {
        "position": 11,
        "name": "accepted_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 12,
        "name": "accepted_by",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 13,
        "name": "expires_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "(now() + '7 days'::interval)",
        "comment": null
      },
      {
        "position": 14,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 15,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "public.tenant_invitations",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "2200_218068_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "tenant_id IS NOT NULL"
      },
      {
        "name": "tenant_invitations_role_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((role = ANY (ARRAY['owner'::text, 'admin'::text, 'manager'::text, 'member'::text, 'viewer'::text])))"
      },
      {
        "name": "2200_218068_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "2200_218068_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "invited_by IS NOT NULL"
      },
      {
        "name": "2200_218068_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "email IS NOT NULL"
      },
      {
        "name": "valid_expiration",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((expires_at > created_at))"
      },
      {
        "name": "valid_expiration",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((expires_at > created_at))"
      },
      {
        "name": "tenant_invitations_accepted_by_fkey",
        "type": "FOREIGN KEY",
        "column": "accepted_by",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_218068_15_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "updated_at IS NOT NULL"
      },
      {
        "name": "tenant_invitations_invited_by_fkey",
        "type": "FOREIGN KEY",
        "column": "invited_by",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "tenant_invitations_tenant_id_fkey",
        "type": "FOREIGN KEY",
        "column": "tenant_id",
        "referenced_table": "tenants",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "tenant_invitations_tenant_id_email_key",
        "type": "UNIQUE",
        "column": "email",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "tenant_invitations_tenant_id_email_key",
        "type": "UNIQUE",
        "column": "email",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "tenant_invitations_tenant_id_email_key",
        "type": "UNIQUE",
        "column": "tenant_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "tenant_invitations_tenant_id_email_key",
        "type": "UNIQUE",
        "column": "tenant_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "tenant_invitations_invitation_token_key",
        "type": "UNIQUE",
        "column": "invitation_token",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "tenant_invitations_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_218068_13_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "expires_at IS NOT NULL"
      },
      {
        "name": "2200_218068_6_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "invitation_token IS NOT NULL"
      },
      {
        "name": "tenant_invitations_status_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((status = ANY (ARRAY['pending'::text, 'accepted'::text, 'expired'::text, 'revoked'::text])))"
      },
      {
        "name": "2200_218068_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "role IS NOT NULL"
      },
      {
        "name": "2200_218068_14_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      }
    ]
  },
  {
    "section": "public.tenant_invitations",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "tenant_invitations_pkey",
        "definition": "CREATE UNIQUE INDEX tenant_invitations_pkey ON public.tenant_invitations USING btree (id)"
      },
      {
        "name": "tenant_invitations_invitation_token_key",
        "definition": "CREATE UNIQUE INDEX tenant_invitations_invitation_token_key ON public.tenant_invitations USING btree (invitation_token)"
      },
      {
        "name": "tenant_invitations_tenant_id_email_key",
        "definition": "CREATE UNIQUE INDEX tenant_invitations_tenant_id_email_key ON public.tenant_invitations USING btree (tenant_id, email)"
      }
    ]
  },
  {
    "section": "public.tenant_invitations",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "service_role_invitations_all",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      },
      {
        "name": "users_view_own_invitations",
        "roles": ["authenticated"],
        "command": "SELECT",
        "permissive": "PERMISSIVE",
        "using_expression": "((email = (( SELECT users.email\n   FROM auth.users\n  WHERE (users.id = auth.uid())))::text) OR (tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text]) AS user_has_tenant_role)))",
        "with_check_expression": null
      },
      {
        "name": "admins_manage_invitations",
        "roles": ["authenticated"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text]) AS user_has_tenant_role))",
        "with_check_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text]) AS user_has_tenant_role))"
      }
    ]
  },
  {
    "section": "public.tenant_invitations",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.tenant_users",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "user_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "role",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'member'::text",
        "comment": null
      },
      {
        "position": 5,
        "name": "status",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'active'::text",
        "comment": null
      },
      {
        "position": 6,
        "name": "permissions",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 7,
        "name": "invited_by",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "invited_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "joined_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "now()",
        "comment": null
      },
      {
        "position": 10,
        "name": "settings",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 11,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 12,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 13,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 14,
        "name": "deleted_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "public.tenant_users",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "valid_invitation",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((invited_by IS NULL) OR (invited_at IS NOT NULL)))"
      },
      {
        "name": "tenant_users_invited_by_fkey",
        "type": "FOREIGN KEY",
        "column": "invited_by",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "tenant_users_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "tenant_users_user_id_fkey",
        "type": "FOREIGN KEY",
        "column": "user_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "tenant_users_tenant_id_fkey",
        "type": "FOREIGN KEY",
        "column": "tenant_id",
        "referenced_table": "tenants",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "tenant_users_tenant_id_user_id_key",
        "type": "UNIQUE",
        "column": "user_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "tenant_users_tenant_id_user_id_key",
        "type": "UNIQUE",
        "column": "user_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "tenant_users_tenant_id_user_id_key",
        "type": "UNIQUE",
        "column": "tenant_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217197_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "user_id IS NOT NULL"
      },
      {
        "name": "2200_217197_10_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "settings IS NOT NULL"
      },
      {
        "name": "tenant_users_tenant_id_user_id_key",
        "type": "UNIQUE",
        "column": "tenant_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217197_6_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "permissions IS NOT NULL"
      },
      {
        "name": "2200_217197_13_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "updated_at IS NOT NULL"
      },
      {
        "name": "2200_217197_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "tenant_id IS NOT NULL"
      },
      {
        "name": "2200_217197_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "tenant_users_role_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((role = ANY (ARRAY['owner'::text, 'admin'::text, 'manager'::text, 'member'::text, 'viewer'::text])))"
      },
      {
        "name": "2200_217197_11_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      },
      {
        "name": "2200_217197_12_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "tenant_users_status_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((status = ANY (ARRAY['active'::text, 'inactive'::text, 'suspended'::text, 'pending'::text])))"
      },
      {
        "name": "2200_217197_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "role IS NOT NULL"
      },
      {
        "name": "valid_invitation",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((invited_by IS NULL) OR (invited_at IS NOT NULL)))"
      }
    ]
  },
  {
    "section": "public.tenant_users",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "tenant_users_pkey",
        "definition": "CREATE UNIQUE INDEX tenant_users_pkey ON public.tenant_users USING btree (id)"
      },
      {
        "name": "tenant_users_tenant_id_user_id_key",
        "definition": "CREATE UNIQUE INDEX tenant_users_tenant_id_user_id_key ON public.tenant_users USING btree (tenant_id, user_id)"
      },
      {
        "name": "idx_tenant_users_user_status",
        "definition": "CREATE INDEX idx_tenant_users_user_status ON public.tenant_users USING btree (user_id, status) WHERE (status = 'active'::text)"
      },
      {
        "name": "idx_tenant_users_tenant_role",
        "definition": "CREATE INDEX idx_tenant_users_tenant_role ON public.tenant_users USING btree (tenant_id, role) WHERE (status = 'active'::text)"
      }
    ]
  },
  {
    "section": "public.tenant_users",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "service_role_tenant_users_all",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      },
      {
        "name": "users_view_tenant_members",
        "roles": ["authenticated"],
        "command": "SELECT",
        "permissive": "PERMISSIVE",
        "using_expression": "private.is_tenant_member(tenant_id)",
        "with_check_expression": null
      },
      {
        "name": "admins_manage_members",
        "roles": ["authenticated"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text]) AS user_has_tenant_role))",
        "with_check_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text]) AS user_has_tenant_role))"
      }
    ]
  },
  {
    "section": "public.tenant_users",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.tenants",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "slug",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "subscription_plan",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'trial'::text",
        "comment": null
      },
      {
        "position": 5,
        "name": "subscription_status",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'active'::text",
        "comment": null
      },
      {
        "position": 6,
        "name": "trial_ends_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "subscription_ends_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "stripe_customer_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "stripe_subscription_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "business_type",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 11,
        "name": "industry",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 12,
        "name": "employee_count",
        "type": "int4range",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 13,
        "name": "annual_revenue",
        "type": "numrange",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 14,
        "name": "timezone",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'UTC'::text",
        "comment": null
      },
      {
        "position": 15,
        "name": "country_code",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 16,
        "name": "settings",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 17,
        "name": "features",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 18,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 19,
        "name": "onboarding_completed",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 20,
        "name": "onboarding_step",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 21,
        "name": "onboarding_data",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 22,
        "name": "monthly_review_limit",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 23,
        "name": "monthly_ai_generation_limit",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 24,
        "name": "locations_limit",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "1",
        "comment": null
      },
      {
        "position": 25,
        "name": "team_members_limit",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "5",
        "comment": null
      },
      {
        "position": 26,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 27,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 28,
        "name": "deleted_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "public.tenants",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "valid_trial",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((subscription_plan <> 'trial'::text) OR (trial_ends_at IS NOT NULL)))"
      },
      {
        "name": "2200_217148_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "subscription_plan IS NOT NULL"
      },
      {
        "name": "2200_217148_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "subscription_status IS NOT NULL"
      },
      {
        "name": "2200_217148_26_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "2200_217148_18_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      },
      {
        "name": "tenants_subscription_plan_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((subscription_plan = ANY (ARRAY['trial'::text, 'starter'::text, 'professional'::text, 'enterprise'::text, 'custom'::text])))"
      },
      {
        "name": "tenants_slug_key",
        "type": "UNIQUE",
        "column": "slug",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "valid_trial",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((subscription_plan <> 'trial'::text) OR (trial_ends_at IS NOT NULL)))"
      },
      {
        "name": "2200_217148_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "name IS NOT NULL"
      },
      {
        "name": "2200_217148_16_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "settings IS NOT NULL"
      },
      {
        "name": "2200_217148_27_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "updated_at IS NOT NULL"
      },
      {
        "name": "2200_217148_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "slug IS NOT NULL"
      },
      {
        "name": "2200_217148_17_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "features IS NOT NULL"
      },
      {
        "name": "2200_217148_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "tenants_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "valid_slug",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((slug ~ '^[a-z0-9-]+$'::text))"
      },
      {
        "name": "tenants_subscription_status_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((subscription_status = ANY (ARRAY['active'::text, 'past_due'::text, 'canceled'::text, 'paused'::text, 'trial'::text])))"
      }
    ]
  },
  {
    "section": "public.tenants",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "tenants_pkey",
        "definition": "CREATE UNIQUE INDEX tenants_pkey ON public.tenants USING btree (id)"
      },
      {
        "name": "tenants_slug_key",
        "definition": "CREATE UNIQUE INDEX tenants_slug_key ON public.tenants USING btree (slug)"
      }
    ]
  },
  {
    "section": "public.tenants",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "service_role_tenants_all",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      },
      {
        "name": "users_view_own_tenants",
        "roles": ["authenticated"],
        "command": "SELECT",
        "permissive": "PERMISSIVE",
        "using_expression": "(id IN ( SELECT private.get_user_active_tenants() AS get_user_active_tenants))",
        "with_check_expression": null
      },
      {
        "name": "owners_update_tenants",
        "roles": ["authenticated"],
        "command": "UPDATE",
        "permissive": "PERMISSIVE",
        "using_expression": "(id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text]) AS user_has_tenant_role))",
        "with_check_expression": "(id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text]) AS user_has_tenant_role))"
      }
    ]
  },
  {
    "section": "public.tenants",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.upsell_items",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "description",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "category",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "promotion_text",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "call_to_action",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "link_url",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "offer_code",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "target_rating_range",
        "type": "int4range",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 11,
        "name": "target_keywords",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 12,
        "name": "target_sentiment",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 13,
        "name": "target_platforms",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 14,
        "name": "variant_name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'default'::text",
        "comment": null
      },
      {
        "position": 15,
        "name": "test_group",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 16,
        "name": "conversion_goal",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 17,
        "name": "impressions",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 18,
        "name": "clicks",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 19,
        "name": "conversions",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 20,
        "name": "conversion_rate",
        "type": "numeric",
        "max_length": null,
        "precision": 5,
        "scale": 4,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 21,
        "name": "active_from",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "now()",
        "comment": null
      },
      {
        "position": 22,
        "name": "active_until",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 23,
        "name": "status",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'active'::text",
        "comment": null
      },
      {
        "position": 24,
        "name": "priority",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "50",
        "comment": null
      },
      {
        "position": 25,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 26,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 27,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "public.upsell_items",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "valid_test_variant",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((((test_group IS NULL) AND (variant_name = 'default'::text)) OR ((test_group IS NOT NULL) AND (variant_name IS NOT NULL))))"
      },
      {
        "name": "2200_217710_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "2200_217710_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "name IS NOT NULL"
      },
      {
        "name": "2200_217710_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "tenant_id IS NOT NULL"
      },
      {
        "name": "upsell_items_status_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((status = ANY (ARRAY['active'::text, 'inactive'::text, 'draft'::text, 'expired'::text])))"
      },
      {
        "name": "2200_217710_6_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "promotion_text IS NOT NULL"
      },
      {
        "name": "2200_217710_7_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "call_to_action IS NOT NULL"
      },
      {
        "name": "valid_active_period",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((active_until IS NULL) OR (active_until > active_from)))"
      },
      {
        "name": "valid_active_period",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((active_until IS NULL) OR (active_until > active_from)))"
      },
      {
        "name": "upsell_items_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "upsell_items_tenant_id_fkey",
        "type": "FOREIGN KEY",
        "column": "tenant_id",
        "referenced_table": "tenants",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "2200_217710_27_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "updated_at IS NOT NULL"
      },
      {
        "name": "2200_217710_26_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "2200_217710_25_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      },
      {
        "name": "upsell_items_priority_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((priority >= 0) AND (priority <= 100)))"
      },
      {
        "name": "valid_test_variant",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((((test_group IS NULL) AND (variant_name = 'default'::text)) OR ((test_group IS NOT NULL) AND (variant_name IS NOT NULL))))"
      }
    ]
  },
  {
    "section": "public.upsell_items",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "upsell_items_pkey",
        "definition": "CREATE UNIQUE INDEX upsell_items_pkey ON public.upsell_items USING btree (id)"
      }
    ]
  },
  {
    "section": "public.upsell_items",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "service_role_upsell_all",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      },
      {
        "name": "tenants_view_upsell_items",
        "roles": ["authenticated"],
        "command": "SELECT",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.get_user_active_tenants() AS get_user_active_tenants))",
        "with_check_expression": null
      },
      {
        "name": "admins_manage_upsell_items",
        "roles": ["authenticated"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text]) AS user_has_tenant_role))",
        "with_check_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text]) AS user_has_tenant_role))"
      }
    ]
  },
  {
    "section": "public.upsell_items",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.v_dashboard_overview",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "total_reviews",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "recent_reviews",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "total_responses",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "published_responses",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "avg_rating",
        "type": "numeric",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "public.v_dashboard_overview",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": []
  },
  {
    "section": "public.v_dashboard_overview",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": []
  },
  {
    "section": "public.v_dashboard_overview",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "public.v_dashboard_overview",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.v_response_performance",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "date",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "responses_generated",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "responses_published",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "avg_hours_to_publish",
        "type": "numeric",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "avg_confidence_score",
        "type": "numeric",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "public.v_response_performance",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": []
  },
  {
    "section": "public.v_response_performance",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": []
  },
  {
    "section": "public.v_response_performance",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "public.v_response_performance",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.workflow_events",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "workflow_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "event_type",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "event_source",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "event_data",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 6,
        "name": "processed",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 7,
        "name": "processed_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "processing_error",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "correlation_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "causation_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 11,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 12,
        "name": "event_timestamp",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 13,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "public.workflow_events",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "2200_217658_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "event_data IS NOT NULL"
      },
      {
        "name": "2200_217658_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "event_type IS NOT NULL"
      },
      {
        "name": "2200_217658_11_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      },
      {
        "name": "2200_217658_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "workflow_id IS NOT NULL"
      },
      {
        "name": "2200_217658_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "event_source IS NOT NULL"
      },
      {
        "name": "2200_217658_12_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "event_timestamp IS NOT NULL"
      },
      {
        "name": "workflow_events_workflow_id_fkey",
        "type": "FOREIGN KEY",
        "column": "workflow_id",
        "referenced_table": "workflows",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "workflow_events_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217658_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "2200_217658_13_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      }
    ]
  },
  {
    "section": "public.workflow_events",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "workflow_events_pkey",
        "definition": "CREATE UNIQUE INDEX workflow_events_pkey ON public.workflow_events USING btree (id)"
      }
    ]
  },
  {
    "section": "public.workflow_events",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "service_role_workflow_events_all",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      },
      {
        "name": "tenants_view_workflow_events",
        "roles": ["authenticated"],
        "command": "SELECT",
        "permissive": "PERMISSIVE",
        "using_expression": "(EXISTS ( SELECT 1\n   FROM workflows w\n  WHERE ((w.id = workflow_events.workflow_id) AND (w.tenant_id IN ( SELECT private.get_user_active_tenants() AS get_user_active_tenants)))))",
        "with_check_expression": null
      }
    ]
  },
  {
    "section": "public.workflow_events",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.workflow_steps",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "workflow_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "step_name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "step_type",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "step_index",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "status",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'pending'::text",
        "comment": null
      },
      {
        "position": 7,
        "name": "attempts",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 8,
        "name": "max_attempts",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "3",
        "comment": null
      },
      {
        "position": 9,
        "name": "input_data",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 10,
        "name": "output_data",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 11,
        "name": "started_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 12,
        "name": "completed_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 13,
        "name": "duration_ms",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 14,
        "name": "error_message",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 15,
        "name": "error_details",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 16,
        "name": "retry_count",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 17,
        "name": "next_retry_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 18,
        "name": "compensation_action",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 19,
        "name": "compensation_data",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 20,
        "name": "compensated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 21,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 22,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 23,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "public.workflow_steps",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "2200_217595_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "step_index IS NOT NULL"
      },
      {
        "name": "2200_217595_22_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "valid_execution",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((((started_at IS NULL) AND (completed_at IS NULL)) OR ((started_at IS NOT NULL) AND ((completed_at IS NULL) OR (completed_at >= started_at)))))"
      },
      {
        "name": "valid_execution",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((((started_at IS NULL) AND (completed_at IS NULL)) OR ((started_at IS NOT NULL) AND ((completed_at IS NULL) OR (completed_at >= started_at)))))"
      },
      {
        "name": "workflow_steps_status_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((status = ANY (ARRAY['pending'::text, 'running'::text, 'completed'::text, 'failed'::text, 'skipped'::text, 'compensated'::text])))"
      },
      {
        "name": "2200_217595_10_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "output_data IS NOT NULL"
      },
      {
        "name": "workflow_steps_workflow_id_fkey",
        "type": "FOREIGN KEY",
        "column": "workflow_id",
        "referenced_table": "workflows",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "workflow_steps_workflow_id_step_index_key",
        "type": "UNIQUE",
        "column": "step_index",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "workflow_steps_workflow_id_step_index_key",
        "type": "UNIQUE",
        "column": "step_index",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "workflow_steps_workflow_id_step_index_key",
        "type": "UNIQUE",
        "column": "workflow_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "workflow_steps_workflow_id_step_index_key",
        "type": "UNIQUE",
        "column": "workflow_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217595_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "workflow_steps_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217595_23_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "updated_at IS NOT NULL"
      },
      {
        "name": "2200_217595_21_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      },
      {
        "name": "2200_217595_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "workflow_id IS NOT NULL"
      },
      {
        "name": "2200_217595_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "step_type IS NOT NULL"
      },
      {
        "name": "2200_217595_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "step_name IS NOT NULL"
      },
      {
        "name": "2200_217595_9_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "input_data IS NOT NULL"
      }
    ]
  },
  {
    "section": "public.workflow_steps",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "workflow_steps_pkey",
        "definition": "CREATE UNIQUE INDEX workflow_steps_pkey ON public.workflow_steps USING btree (id)"
      },
      {
        "name": "workflow_steps_workflow_id_step_index_key",
        "definition": "CREATE UNIQUE INDEX workflow_steps_workflow_id_step_index_key ON public.workflow_steps USING btree (workflow_id, step_index)"
      }
    ]
  },
  {
    "section": "public.workflow_steps",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "service_role_workflow_steps_all",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      },
      {
        "name": "tenants_view_workflow_steps",
        "roles": ["authenticated"],
        "command": "SELECT",
        "permissive": "PERMISSIVE",
        "using_expression": "(EXISTS ( SELECT 1\n   FROM workflows w\n  WHERE ((w.id = workflow_steps.workflow_id) AND (w.tenant_id IN ( SELECT private.get_user_active_tenants() AS get_user_active_tenants)))))",
        "with_check_expression": null
      }
    ]
  },
  {
    "section": "public.workflow_steps",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.workflow_templates",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "description",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "category",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "version",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'1.0.0'::text",
        "comment": null
      },
      {
        "position": 7,
        "name": "workflow_type",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "step_definitions",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "default_input",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 10,
        "name": "timeout_minutes",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "60",
        "comment": null
      },
      {
        "position": 11,
        "name": "retry_policy",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'{\"backoff\": \"exponential\", \"max_attempts\": 3}'::jsonb",
        "comment": null
      },
      {
        "position": 12,
        "name": "status",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'active'::text",
        "comment": null
      },
      {
        "position": 13,
        "name": "is_system_template",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 14,
        "name": "usage_count",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 15,
        "name": "success_rate",
        "type": "numeric",
        "max_length": null,
        "precision": 5,
        "scale": 4,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 16,
        "name": "avg_duration",
        "type": "interval",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 17,
        "name": "created_by",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 18,
        "name": "last_modified_by",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 19,
        "name": "tags",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 20,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 21,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 22,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "public.workflow_templates",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "2200_217622_22_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "updated_at IS NOT NULL"
      },
      {
        "name": "unique_template_name",
        "type": "UNIQUE",
        "column": "name",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "unique_template_name",
        "type": "UNIQUE",
        "column": "tenant_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217622_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "name IS NOT NULL"
      },
      {
        "name": "unique_template_name",
        "type": "UNIQUE",
        "column": "version",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "unique_template_name",
        "type": "UNIQUE",
        "column": "version",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "unique_template_name",
        "type": "UNIQUE",
        "column": "tenant_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "workflow_templates_tenant_id_fkey",
        "type": "FOREIGN KEY",
        "column": "tenant_id",
        "referenced_table": "tenants",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "2200_217622_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "2200_217622_8_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "step_definitions IS NOT NULL"
      },
      {
        "name": "workflow_templates_created_by_fkey",
        "type": "FOREIGN KEY",
        "column": "created_by",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "workflow_templates_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217622_7_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "workflow_type IS NOT NULL"
      },
      {
        "name": "unique_template_name",
        "type": "UNIQUE",
        "column": "name",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "unique_template_name",
        "type": "UNIQUE",
        "column": "tenant_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "unique_template_name",
        "type": "UNIQUE",
        "column": "name",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "unique_template_name",
        "type": "UNIQUE",
        "column": "version",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "workflow_templates_status_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((status = ANY (ARRAY['active'::text, 'inactive'::text, 'draft'::text, 'deprecated'::text])))"
      },
      {
        "name": "2200_217622_21_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "workflow_templates_last_modified_by_fkey",
        "type": "FOREIGN KEY",
        "column": "last_modified_by",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217622_20_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      }
    ]
  },
  {
    "section": "public.workflow_templates",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "workflow_templates_pkey",
        "definition": "CREATE UNIQUE INDEX workflow_templates_pkey ON public.workflow_templates USING btree (id)"
      },
      {
        "name": "unique_template_name",
        "definition": "CREATE UNIQUE INDEX unique_template_name ON public.workflow_templates USING btree (tenant_id, name, version)"
      }
    ]
  },
  {
    "section": "public.workflow_templates",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "service_role_templates_all",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      },
      {
        "name": "users_view_workflow_templates",
        "roles": ["authenticated"],
        "command": "SELECT",
        "permissive": "PERMISSIVE",
        "using_expression": "((tenant_id IN ( SELECT private.get_user_active_tenants() AS get_user_active_tenants)) OR (tenant_id IS NULL))",
        "with_check_expression": null
      },
      {
        "name": "admins_manage_workflow_templates",
        "roles": ["authenticated"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text]) AS user_has_tenant_role))",
        "with_check_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text]) AS user_has_tenant_role))"
      }
    ]
  },
  {
    "section": "public.workflow_templates",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "public.workflows",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "tenant_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "workflow_type",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "workflow_name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "correlation_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "parent_workflow_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "status",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'pending'::text",
        "comment": null
      },
      {
        "position": 8,
        "name": "current_step",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "step_index",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 10,
        "name": "total_steps",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 11,
        "name": "completed_steps",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      },
      {
        "position": 12,
        "name": "progress_percentage",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 13,
        "name": "input_data",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 14,
        "name": "output_data",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 15,
        "name": "context_data",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 16,
        "name": "started_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 17,
        "name": "completed_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 18,
        "name": "estimated_completion_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 19,
        "name": "error_message",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 20,
        "name": "error_details",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 21,
        "name": "compensation_data",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 22,
        "name": "depends_on",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 23,
        "name": "blocks",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 24,
        "name": "priority",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "50",
        "comment": null
      },
      {
        "position": 25,
        "name": "tags",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 26,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::jsonb",
        "comment": null
      },
      {
        "position": 27,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 28,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 29,
        "name": "retry_count",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "YES",
        "default": "0",
        "comment": null
      }
    ]
  },
  {
    "section": "public.workflows",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "valid_steps",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((completed_steps <= total_steps))"
      },
      {
        "name": "workflows_priority_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "(((priority >= 0) AND (priority <= 100)))"
      },
      {
        "name": "2200_217560_26_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "metadata IS NOT NULL"
      },
      {
        "name": "2200_217560_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "workflow_type IS NOT NULL"
      },
      {
        "name": "2200_217560_13_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "input_data IS NOT NULL"
      },
      {
        "name": "2200_217560_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "tenant_id IS NOT NULL"
      },
      {
        "name": "valid_execution_times",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((((started_at IS NULL) AND (completed_at IS NULL)) OR ((started_at IS NOT NULL) AND ((completed_at IS NULL) OR (completed_at >= started_at)))))"
      },
      {
        "name": "valid_execution_times",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((((started_at IS NULL) AND (completed_at IS NULL)) OR ((started_at IS NOT NULL) AND ((completed_at IS NULL) OR (completed_at >= started_at)))))"
      },
      {
        "name": "2200_217560_14_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "output_data IS NOT NULL"
      },
      {
        "name": "workflows_parent_workflow_id_fkey",
        "type": "FOREIGN KEY",
        "column": "parent_workflow_id",
        "referenced_table": "workflows",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "workflows_tenant_id_fkey",
        "type": "FOREIGN KEY",
        "column": "tenant_id",
        "referenced_table": "tenants",
        "referenced_column": "id",
        "check_clause": null
      },
      {
        "name": "workflows_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "2200_217560_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "2200_217560_27_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "2200_217560_28_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "updated_at IS NOT NULL"
      },
      {
        "name": "2200_217560_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "workflow_name IS NOT NULL"
      },
      {
        "name": "valid_steps",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((completed_steps <= total_steps))"
      },
      {
        "name": "workflows_status_check",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "((status = ANY (ARRAY['pending'::text, 'running'::text, 'completed'::text, 'failed'::text, 'compensating'::text, 'cancelled'::text])))"
      },
      {
        "name": "2200_217560_15_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "context_data IS NOT NULL"
      }
    ]
  },
  {
    "section": "public.workflows",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "idx_workflows_retry_count",
        "definition": "CREATE INDEX idx_workflows_retry_count ON public.workflows USING btree (retry_count)"
      },
      {
        "name": "idx_workflows_status_priority",
        "definition": "CREATE INDEX idx_workflows_status_priority ON public.workflows USING btree (status, priority DESC, created_at) WHERE (status = ANY (ARRAY['pending'::text, 'running'::text]))"
      },
      {
        "name": "workflows_pkey",
        "definition": "CREATE UNIQUE INDEX workflows_pkey ON public.workflows USING btree (id)"
      },
      {
        "name": "idx_workflows_review_processing_active",
        "definition": "CREATE INDEX idx_workflows_review_processing_active ON public.workflows USING btree (((context_data ->> 'reviewId'::text)), workflow_type, status) WHERE ((workflow_type = 'review_processing'::text) AND (status = ANY (ARRAY['pending'::text, 'running'::text])))"
      },
      {
        "name": "idx_workflows_tenant",
        "definition": "CREATE INDEX idx_workflows_tenant ON public.workflows USING btree (tenant_id)"
      },
      {
        "name": "idx_workflows_pending",
        "definition": "CREATE INDEX idx_workflows_pending ON public.workflows USING btree (status, priority DESC, created_at) WHERE (status = ANY (ARRAY['pending'::text, 'running'::text]))"
      }
    ]
  },
  {
    "section": "public.workflows",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "service_role_workflows_all",
        "roles": ["service_role"],
        "command": "ALL",
        "permissive": "PERMISSIVE",
        "using_expression": "true",
        "with_check_expression": "true"
      },
      {
        "name": "tenants_view_workflows",
        "roles": ["authenticated"],
        "command": "SELECT",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.get_user_active_tenants() AS get_user_active_tenants))",
        "with_check_expression": null
      },
      {
        "name": "members_manage_workflows",
        "roles": ["authenticated"],
        "command": "INSERT",
        "permissive": "PERMISSIVE",
        "using_expression": null,
        "with_check_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text, 'member'::text]) AS user_has_tenant_role))"
      },
      {
        "name": "members_update_workflows",
        "roles": ["authenticated"],
        "command": "UPDATE",
        "permissive": "PERMISSIVE",
        "using_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text, 'member'::text]) AS user_has_tenant_role))",
        "with_check_expression": "(tenant_id IN ( SELECT private.user_has_tenant_role(ARRAY['owner'::text, 'admin'::text, 'member'::text]) AS user_has_tenant_role))"
      }
    ]
  },
  {
    "section": "public.workflows",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "realtime.messages",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 3,
        "name": "topic",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "extension",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "payload",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "event",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "private",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 8,
        "name": "updated_at",
        "type": "timestamp without time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 9,
        "name": "inserted_at",
        "type": "timestamp without time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 10,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      }
    ]
  },
  {
    "section": "realtime.messages",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "messages_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "messages_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "messages_pkey",
        "type": "PRIMARY KEY",
        "column": "inserted_at",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16592_17226_9_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "inserted_at IS NOT NULL"
      },
      {
        "name": "16592_17226_10_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "16592_17226_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "extension IS NOT NULL"
      },
      {
        "name": "messages_pkey",
        "type": "PRIMARY KEY",
        "column": "inserted_at",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16592_17226_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "topic IS NOT NULL"
      },
      {
        "name": "16592_17226_8_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "updated_at IS NOT NULL"
      }
    ]
  },
  {
    "section": "realtime.messages",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "messages_pkey",
        "definition": "CREATE UNIQUE INDEX messages_pkey ON ONLY realtime.messages USING btree (id, inserted_at)"
      }
    ]
  },
  {
    "section": "realtime.messages",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "realtime.messages",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "realtime.schema_migrations",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "version",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "inserted_at",
        "type": "timestamp without time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "inserted_at",
        "type": "timestamp without time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "inserted_at",
        "type": "timestamp without time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "inserted_at",
        "type": "timestamp without time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "inserted_at",
        "type": "timestamp without time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "inserted_at",
        "type": "timestamp without time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "inserted_at",
        "type": "timestamp without time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "inserted_at",
        "type": "timestamp without time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "inserted_at",
        "type": "timestamp without time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "realtime.schema_migrations",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "schema_migrations_pkey",
        "type": "PRIMARY KEY",
        "column": "version",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16592_16976_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16592_16976_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16592_16976_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "schema_migrations_pkey",
        "type": "PRIMARY KEY",
        "column": "version",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "schema_migrations_pkey",
        "type": "PRIMARY KEY",
        "column": "version",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "realtime.schema_migrations",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "schema_migrations_pkey",
        "definition": "CREATE UNIQUE INDEX schema_migrations_pkey ON realtime.schema_migrations USING btree (version)"
      },
      {
        "name": "schema_migrations_pkey",
        "definition": "CREATE UNIQUE INDEX schema_migrations_pkey ON realtime.schema_migrations USING btree (version)"
      },
      {
        "name": "schema_migrations_pkey",
        "definition": "CREATE UNIQUE INDEX schema_migrations_pkey ON realtime.schema_migrations USING btree (version)"
      }
    ]
  },
  {
    "section": "realtime.schema_migrations",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "realtime.schema_migrations",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "realtime.subscription",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "subscription_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "entity",
        "type": "regclass",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "filters",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "'{}'::realtime.user_defined_filter[]",
        "comment": null
      },
      {
        "position": 7,
        "name": "claims",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "claims_role",
        "type": "regrole",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "created_at",
        "type": "timestamp without time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "timezone('utc'::text, now())",
        "comment": null
      }
    ]
  },
  {
    "section": "realtime.subscription",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "16592_17083_8_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16592_17083_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16592_17083_9_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16592_17083_7_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "pk_subscription",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16592_17083_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16592_17083_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16592_17083_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "realtime.subscription",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "pk_subscription",
        "definition": "CREATE UNIQUE INDEX pk_subscription ON realtime.subscription USING btree (id)"
      },
      {
        "name": "subscription_subscription_id_entity_filters_key",
        "definition": "CREATE UNIQUE INDEX subscription_subscription_id_entity_filters_key ON realtime.subscription USING btree (subscription_id, entity, filters)"
      },
      {
        "name": "ix_realtime_subscription_entity",
        "definition": "CREATE INDEX ix_realtime_subscription_entity ON realtime.subscription USING btree (entity)"
      }
    ]
  },
  {
    "section": "realtime.subscription",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "realtime.subscription",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": [
      {
        "name": "tr_check_filters",
        "event": "UPDATE",
        "timing": "BEFORE",
        "statement": "EXECUTE FUNCTION realtime.subscription_check_filters()"
      },
      {
        "name": "tr_check_filters",
        "event": "INSERT",
        "timing": "BEFORE",
        "statement": "EXECUTE FUNCTION realtime.subscription_check_filters()"
      }
    ]
  },
  {
    "section": "storage.buckets",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "owner",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": "Field is deprecated, use owner_id instead"
      },
      {
        "position": 4,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "now()",
        "comment": null
      },
      {
        "position": 5,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "now()",
        "comment": null
      },
      {
        "position": 6,
        "name": "public",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 7,
        "name": "avif_autodetection",
        "type": "boolean",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "false",
        "comment": null
      },
      {
        "position": 8,
        "name": "file_size_limit",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "allowed_mime_types",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "owner_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "storage.buckets",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "16529_16533_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "buckets_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16529_16533_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "storage.buckets",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "buckets_pkey",
        "definition": "CREATE UNIQUE INDEX buckets_pkey ON storage.buckets USING btree (id)"
      },
      {
        "name": "bname",
        "definition": "CREATE UNIQUE INDEX bname ON storage.buckets USING btree (name)"
      }
    ]
  },
  {
    "section": "storage.buckets",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "storage.buckets",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "storage.migrations",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "id",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "id",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "id",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "name",
        "type": "character varying",
        "max_length": 100,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "name",
        "type": "character varying",
        "max_length": 100,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "name",
        "type": "character varying",
        "max_length": 100,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "name",
        "type": "character varying",
        "max_length": 100,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "hash",
        "type": "character varying",
        "max_length": 40,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "hash",
        "type": "character varying",
        "max_length": 40,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "hash",
        "type": "character varying",
        "max_length": 40,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "hash",
        "type": "character varying",
        "max_length": 40,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "executed_at",
        "type": "timestamp without time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "CURRENT_TIMESTAMP",
        "comment": null
      },
      {
        "position": 4,
        "name": "executed_at",
        "type": "timestamp without time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "CURRENT_TIMESTAMP",
        "comment": null
      },
      {
        "position": 4,
        "name": "executed_at",
        "type": "timestamp without time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "CURRENT_TIMESTAMP",
        "comment": null
      },
      {
        "position": 4,
        "name": "executed_at",
        "type": "timestamp without time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "CURRENT_TIMESTAMP",
        "comment": null
      }
    ]
  },
  {
    "section": "storage.migrations",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": []
  },
  {
    "section": "storage.migrations",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "migrations_pkey",
        "definition": "CREATE UNIQUE INDEX migrations_pkey ON storage.migrations USING btree (id)"
      },
      {
        "name": "migrations_pkey",
        "definition": "CREATE UNIQUE INDEX migrations_pkey ON storage.migrations USING btree (id)"
      },
      {
        "name": "migrations_name_key",
        "definition": "CREATE UNIQUE INDEX migrations_name_key ON storage.migrations USING btree (name)"
      },
      {
        "name": "migrations_name_key",
        "definition": "CREATE UNIQUE INDEX migrations_name_key ON storage.migrations USING btree (name)"
      }
    ]
  },
  {
    "section": "storage.migrations",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "storage.migrations",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "storage.objects",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "bucket_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "owner",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": "Field is deprecated, use owner_id instead"
      },
      {
        "position": 5,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "now()",
        "comment": null
      },
      {
        "position": 6,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "now()",
        "comment": null
      },
      {
        "position": 7,
        "name": "last_accessed_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "now()",
        "comment": null
      },
      {
        "position": 8,
        "name": "metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "path_tokens",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "version",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 11,
        "name": "owner_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 12,
        "name": "user_metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "storage.objects",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "objects_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "objects_bucketId_fkey",
        "type": "FOREIGN KEY",
        "column": "bucket_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16529_16548_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "storage.objects",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "objects_pkey",
        "definition": "CREATE UNIQUE INDEX objects_pkey ON storage.objects USING btree (id)"
      },
      {
        "name": "bucketid_objname",
        "definition": "CREATE UNIQUE INDEX bucketid_objname ON storage.objects USING btree (bucket_id, name)"
      },
      {
        "name": "name_prefix_search",
        "definition": "CREATE INDEX name_prefix_search ON storage.objects USING btree (name text_pattern_ops)"
      },
      {
        "name": "idx_objects_bucket_id_name",
        "definition": "CREATE INDEX idx_objects_bucket_id_name ON storage.objects USING btree (bucket_id, name COLLATE \"C\")"
      }
    ]
  },
  {
    "section": "storage.objects",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": [
      {
        "name": "Avatar images are publicly accessible.",
        "roles": ["public"],
        "command": "SELECT",
        "permissive": "PERMISSIVE",
        "using_expression": "(bucket_id = 'avatars'::text)",
        "with_check_expression": null
      },
      {
        "name": "Anyone can upload an avatar.",
        "roles": ["public"],
        "command": "INSERT",
        "permissive": "PERMISSIVE",
        "using_expression": null,
        "with_check_expression": "(bucket_id = 'avatars'::text)"
      }
    ]
  },
  {
    "section": "storage.objects",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": [
      {
        "name": "update_objects_updated_at",
        "event": "UPDATE",
        "timing": "BEFORE",
        "statement": "EXECUTE FUNCTION storage.update_updated_at_column()"
      }
    ]
  },
  {
    "section": "storage.s3_multipart_uploads",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "in_progress_size",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "NO",
        "default": "0",
        "comment": null
      },
      {
        "position": 3,
        "name": "upload_signature",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "bucket_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "key",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "version",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "owner_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 9,
        "name": "user_metadata",
        "type": "jsonb",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "storage.s3_multipart_uploads",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "16529_17013_8_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16529_17013_6_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "s3_multipart_uploads_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16529_17013_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16529_17013_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "s3_multipart_uploads_bucket_id_fkey",
        "type": "FOREIGN KEY",
        "column": "bucket_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16529_17013_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16529_17013_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16529_17013_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "storage.s3_multipart_uploads",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "s3_multipart_uploads_pkey",
        "definition": "CREATE UNIQUE INDEX s3_multipart_uploads_pkey ON storage.s3_multipart_uploads USING btree (id)"
      },
      {
        "name": "idx_multipart_uploads_list",
        "definition": "CREATE INDEX idx_multipart_uploads_list ON storage.s3_multipart_uploads USING btree (bucket_id, key, created_at)"
      }
    ]
  },
  {
    "section": "storage.s3_multipart_uploads",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "storage.s3_multipart_uploads",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "storage.s3_multipart_uploads_parts",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "upload_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "size",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "NO",
        "default": "0",
        "comment": null
      },
      {
        "position": 4,
        "name": "part_number",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "bucket_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "key",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "etag",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "owner_id",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "version",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 10,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "storage.s3_multipart_uploads_parts",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "16529_17027_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16529_17027_5_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16529_17027_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16529_17027_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "s3_multipart_uploads_parts_bucket_id_fkey",
        "type": "FOREIGN KEY",
        "column": "bucket_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "s3_multipart_uploads_parts_upload_id_fkey",
        "type": "FOREIGN KEY",
        "column": "upload_id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "s3_multipart_uploads_parts_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16529_17027_10_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16529_17027_9_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16529_17027_7_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16529_17027_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16529_17027_6_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "storage.s3_multipart_uploads_parts",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "s3_multipart_uploads_parts_pkey",
        "definition": "CREATE UNIQUE INDEX s3_multipart_uploads_parts_pkey ON storage.s3_multipart_uploads_parts USING btree (id)"
      }
    ]
  },
  {
    "section": "storage.s3_multipart_uploads_parts",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "storage.s3_multipart_uploads_parts",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "supabase_functions.hooks",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "NO",
        "default": "nextval('supabase_functions.hooks_id_seq'::regclass)",
        "comment": null
      },
      {
        "position": 2,
        "name": "hook_table_id",
        "type": "integer",
        "max_length": null,
        "precision": 32,
        "scale": 0,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "hook_name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 5,
        "name": "request_id",
        "type": "bigint",
        "max_length": null,
        "precision": 64,
        "scale": 0,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "supabase_functions.hooks",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "hooks_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "90088_90101_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "hook_name IS NOT NULL"
      },
      {
        "name": "90088_90101_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "id IS NOT NULL"
      },
      {
        "name": "90088_90101_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "created_at IS NOT NULL"
      },
      {
        "name": "90088_90101_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "hook_table_id IS NOT NULL"
      }
    ]
  },
  {
    "section": "supabase_functions.hooks",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "hooks_pkey",
        "definition": "CREATE UNIQUE INDEX hooks_pkey ON supabase_functions.hooks USING btree (id)"
      },
      {
        "name": "supabase_functions_hooks_request_id_idx",
        "definition": "CREATE INDEX supabase_functions_hooks_request_id_idx ON supabase_functions.hooks USING btree (request_id)"
      },
      {
        "name": "supabase_functions_hooks_h_table_id_h_name_idx",
        "definition": "CREATE INDEX supabase_functions_hooks_h_table_id_h_name_idx ON supabase_functions.hooks USING btree (hook_table_id, hook_name)"
      }
    ]
  },
  {
    "section": "supabase_functions.hooks",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "supabase_functions.hooks",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "supabase_functions.migrations",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "version",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "inserted_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 2,
        "name": "inserted_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 2,
        "name": "inserted_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      },
      {
        "position": 2,
        "name": "inserted_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "now()",
        "comment": null
      }
    ]
  },
  {
    "section": "supabase_functions.migrations",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "90088_90092_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "version IS NOT NULL"
      },
      {
        "name": "90088_90092_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "version IS NOT NULL"
      },
      {
        "name": "migrations_pkey",
        "type": "PRIMARY KEY",
        "column": "version",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "90088_90092_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "inserted_at IS NOT NULL"
      },
      {
        "name": "migrations_pkey",
        "type": "PRIMARY KEY",
        "column": "version",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "90088_90092_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "inserted_at IS NOT NULL"
      }
    ]
  },
  {
    "section": "supabase_functions.migrations",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "migrations_pkey",
        "definition": "CREATE UNIQUE INDEX migrations_pkey ON supabase_functions.migrations USING btree (version)"
      },
      {
        "name": "migrations_pkey",
        "definition": "CREATE UNIQUE INDEX migrations_pkey ON supabase_functions.migrations USING btree (version)"
      }
    ]
  },
  {
    "section": "supabase_functions.migrations",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "supabase_functions.migrations",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "supabase_migrations.schema_migrations",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "version",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 1,
        "name": "version",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "statements",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "statements",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "statements",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "statements",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "statements",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "statements",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "statements",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "statements",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "statements",
        "type": "ARRAY",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "created_by",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "created_by",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "created_by",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "created_by",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "created_by",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "created_by",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "created_by",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "created_by",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "created_by",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "idempotency_key",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "idempotency_key",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "idempotency_key",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "idempotency_key",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "idempotency_key",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "idempotency_key",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "idempotency_key",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "idempotency_key",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "idempotency_key",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "supabase_migrations.schema_migrations",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "schema_migrations_idempotency_key_key",
        "type": "UNIQUE",
        "column": "idempotency_key",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "schema_migrations_pkey",
        "type": "PRIMARY KEY",
        "column": "version",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "17242_17243_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "version IS NOT NULL"
      },
      {
        "name": "schema_migrations_idempotency_key_key",
        "type": "UNIQUE",
        "column": "idempotency_key",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "17242_17243_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "version IS NOT NULL"
      },
      {
        "name": "17242_17243_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "version IS NOT NULL"
      },
      {
        "name": "schema_migrations_idempotency_key_key",
        "type": "UNIQUE",
        "column": "idempotency_key",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "schema_migrations_pkey",
        "type": "PRIMARY KEY",
        "column": "version",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "schema_migrations_pkey",
        "type": "PRIMARY KEY",
        "column": "version",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "supabase_migrations.schema_migrations",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "schema_migrations_pkey",
        "definition": "CREATE UNIQUE INDEX schema_migrations_pkey ON supabase_migrations.schema_migrations USING btree (version)"
      },
      {
        "name": "schema_migrations_pkey",
        "definition": "CREATE UNIQUE INDEX schema_migrations_pkey ON supabase_migrations.schema_migrations USING btree (version)"
      },
      {
        "name": "schema_migrations_pkey",
        "definition": "CREATE UNIQUE INDEX schema_migrations_pkey ON supabase_migrations.schema_migrations USING btree (version)"
      },
      {
        "name": "schema_migrations_idempotency_key_key",
        "definition": "CREATE UNIQUE INDEX schema_migrations_idempotency_key_key ON supabase_migrations.schema_migrations USING btree (idempotency_key)"
      },
      {
        "name": "schema_migrations_idempotency_key_key",
        "definition": "CREATE UNIQUE INDEX schema_migrations_idempotency_key_key ON supabase_migrations.schema_migrations USING btree (idempotency_key)"
      },
      {
        "name": "schema_migrations_idempotency_key_key",
        "definition": "CREATE UNIQUE INDEX schema_migrations_idempotency_key_key ON supabase_migrations.schema_migrations USING btree (idempotency_key)"
      }
    ]
  },
  {
    "section": "supabase_migrations.schema_migrations",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "supabase_migrations.schema_migrations",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "supabase_migrations.seed_files",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "path",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "hash",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "supabase_migrations.seed_files",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "17242_237050_2_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "hash IS NOT NULL"
      },
      {
        "name": "17242_237050_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": "path IS NOT NULL"
      },
      {
        "name": "seed_files_pkey",
        "type": "PRIMARY KEY",
        "column": "path",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "supabase_migrations.seed_files",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "seed_files_pkey",
        "definition": "CREATE UNIQUE INDEX seed_files_pkey ON supabase_migrations.seed_files USING btree (path)"
      }
    ]
  },
  {
    "section": "supabase_migrations.seed_files",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "supabase_migrations.seed_files",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "vault.decrypted_secrets",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 2,
        "name": "name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "description",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 4,
        "name": "secret",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "decrypted_secret",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "key_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 7,
        "name": "nonce",
        "type": "bytea",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 8,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 9,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      }
    ]
  },
  {
    "section": "vault.decrypted_secrets",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": []
  },
  {
    "section": "vault.decrypted_secrets",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": []
  },
  {
    "section": "vault.decrypted_secrets",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "vault.decrypted_secrets",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  },
  {
    "section": "vault.secrets",
    "info_type": "COLUMNS",
    "sort_order": 2,
    "details": [
      {
        "position": 1,
        "name": "id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "gen_random_uuid()",
        "comment": null
      },
      {
        "position": 2,
        "name": "name",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 3,
        "name": "description",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "''::text",
        "comment": null
      },
      {
        "position": 4,
        "name": "secret",
        "type": "text",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": null,
        "comment": null
      },
      {
        "position": 5,
        "name": "key_id",
        "type": "uuid",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": null,
        "comment": null
      },
      {
        "position": 6,
        "name": "nonce",
        "type": "bytea",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "YES",
        "default": "vault._crypto_aead_det_noncegen()",
        "comment": null
      },
      {
        "position": 7,
        "name": "created_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "CURRENT_TIMESTAMP",
        "comment": null
      },
      {
        "position": 8,
        "name": "updated_at",
        "type": "timestamp with time zone",
        "max_length": null,
        "precision": null,
        "scale": null,
        "nullable": "NO",
        "default": "CURRENT_TIMESTAMP",
        "comment": null
      }
    ]
  },
  {
    "section": "vault.secrets",
    "info_type": "CONSTRAINTS",
    "sort_order": 3,
    "details": [
      {
        "name": "16638_16643_3_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16638_16643_4_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16638_16643_8_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "secrets_pkey",
        "type": "PRIMARY KEY",
        "column": "id",
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16638_16643_1_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      },
      {
        "name": "16638_16643_7_not_null",
        "type": "CHECK",
        "column": null,
        "referenced_table": null,
        "referenced_column": null,
        "check_clause": null
      }
    ]
  },
  {
    "section": "vault.secrets",
    "info_type": "INDEXES",
    "sort_order": 4,
    "details": [
      {
        "name": "secrets_pkey",
        "definition": "CREATE UNIQUE INDEX secrets_pkey ON vault.secrets USING btree (id)"
      },
      {
        "name": "secrets_name_idx",
        "definition": "CREATE UNIQUE INDEX secrets_name_idx ON vault.secrets USING btree (name) WHERE (name IS NOT NULL)"
      }
    ]
  },
  {
    "section": "vault.secrets",
    "info_type": "RLS_POLICIES",
    "sort_order": 5,
    "details": []
  },
  {
    "section": "vault.secrets",
    "info_type": "TRIGGERS",
    "sort_order": 6,
    "details": []
  }
]
